

<!doctype html>






<html  data-paige="Paige theme from https://github.com/willfaught/paige"   lang="en" >

    










    

    

    

    

    

    

    

    

    




<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    

    

<meta charset="utf-8">




    <meta content="Simple book on playing with Go" name="description">




<meta content="#0d6efd" name="msapplication-TileColor">


    <meta content="/browserconfig.xml" name="msapplication-config">


<meta content="https://github.com/willfaught/paige" name="theme">
<meta content="#0d6efd" name="theme-color">
<meta content="width=device-width, initial-scale=1" name="viewport">

<meta property="og:url" content="http://localhost:1313/books/software-system/learning-go/">
  <meta property="og:title" content="Learning Go">
  <meta property="og:description" content="Simple book on playing with Go">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="books">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Learning Go">
  <meta name="twitter:description" content="Simple book on playing with Go">



    
        <title>Learning Go · Software System ·  · Paige</title>
    

    


    <link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">



    <link href="/favicon.ico" rel="shortcut icon">



    <link href="/favicon.png" rel="icon" type="image/png">



    <link href="/favicon.svg" rel="icon" type="image/svg+xml">



    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">



    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">



    <link color="#0d6efd" href="/safari-pinned-tab.svg" rel="mask-icon">



    <link href="/site.webmanifest" rel="manifest">
























    

    
        
        
        
    

    
        
    

    
    
    


<link  crossorigin="anonymous"  href="/css/paige/bootstrap/6186ad141d391e4c0c10d2e9cb4eaeaadf75e809-paige.min.5a695f13e40d00e33dc2ef3b080efa570bbcc6991647824214ff6d7f4b20527e.css"  integrity="sha256-WmlfE&#43;QNAOM9wu87CA76Vwu8xpkWR4JCFP9tf0sgUn4="   referrerpolicy="no-referrer"  rel="stylesheet">



















    

    

    

    
    
    


<link  crossorigin="anonymous"  href="/css/paige/bootstrap-icons/bootstrap-icons.min.540116b7267d4b2410c74086ae6497566928c6d5715900be7ce7279ad45addcd.css"  integrity="sha256-VAEWtyZ9SyQQx0CGrmSXVmkoxtVxWQC&#43;fOcnmtRa3c0="   referrerpolicy="no-referrer"  rel="stylesheet">



    

















    

    

    

    
    
    


<link  crossorigin="anonymous"  href="/css/paige/katex/katex.min.min.c12d9cca9aa0af743d947ef8c8f5fabaad13e5b4c9fed061fbdf7c9d3c387581.css"  integrity="sha256-wS2cypqgr3Q9lH74yPX6uq0T5bTJ/tBh&#43;998nTw4dYE="   referrerpolicy="no-referrer"  rel="stylesheet">





    

<style>


.paige-figure-numbered {
    counter-increment: paige-figure-numbered;
}

.paige-figure-numbered > div > figure > figcaption::before {
    content: "Figure " counter(paige-figure-numbered) ": ";
}

.paige-figure-numbered > div > figure > figcaption:empty::before {
    content: "Figure " counter(paige-figure-numbered);
}

.paige-header-link {
    opacity: 0;
    margin-left: 0.5rem;
    position: absolute;
    transition: color 0.15s ease-in-out, opacity 0.15s ease-in-out;
}

.paige-header-link::after {
    content: "#";
}

.paige-quote .blockquote-footer {
    margin-top: 0;
}

.paige-quote blockquote {
    border-left: 0;
    border-right: 0;
    margin-bottom: 0;
    padding: 0;
}

#paige-content > * {
    margin-bottom: 1rem;
}

blockquote {
    padding: 0.5rem 1rem;
    border-left: 0.25rem solid var(--bs-border-color);
    border-right: 0.25rem solid var(--bs-body-bg);
}

td, th {
    padding: 0.25rem;
}

.highlight .chroma .hl,
.highlight .chroma .lnt {
    display: flex;
}

.paige-figure .paige-quote,
.paige-figure .paige-video,
.paige-figure .highlight pre.chroma,
.paige-figure .highlight .chroma pre,
.paige-figure .paige-quote blockquote,
.paige-figure figure > div > :last-child,
.paige-gallery .paige-figure,
.paige-gallery .paige-image,
blockquote > p:last-of-type {
    margin-bottom: 0;
}

.paige-figure,
.paige-gallery,
.paige-image,
.paige-quote,
.paige-video,
table {
    margin-bottom: 1rem;
}

.paige-header-link:focus,
.paige-header-link:hover,
:hover > .paige-header-link,
:target > .paige-header-link {
    opacity: 1;
}




    @media (prefers-color-scheme: dark) {
        /* Background */ .bg { color: #c9d1d9; background-color: var(--bs-body-bg); }
/* PreWrapper */ .chroma { color: #c9d1d9; background-color: var(--bs-body-bg); }
/* Other */ .chroma .x {  }
/* Error */ .chroma .err { color: #f85149 }
/* CodeLine */ .chroma .cl {  }
/* LineLink */ .chroma .lnlinks { outline: none; text-decoration: none; color: inherit }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; }
/* LineHighlight */ .chroma .hl { background-color: #4f4f4d }
/* LineNumbersTable */ .chroma .lnt { white-space: pre; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #64686c }
/* LineNumbers */ .chroma .ln { white-space: pre; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #6e7681 }
/* Line */ .chroma .line { display: flex; }
/* Keyword */ .chroma .k { color: #ff7b72 }
/* KeywordConstant */ .chroma .kc { color: #79c0ff }
/* KeywordDeclaration */ .chroma .kd { color: #ff7b72 }
/* KeywordNamespace */ .chroma .kn { color: #ff7b72 }
/* KeywordPseudo */ .chroma .kp { color: #79c0ff }
/* KeywordReserved */ .chroma .kr { color: #ff7b72 }
/* KeywordType */ .chroma .kt { color: #ff7b72 }
/* Name */ .chroma .n {  }
/* NameAttribute */ .chroma .na {  }
/* NameBuiltin */ .chroma .nb {  }
/* NameBuiltinPseudo */ .chroma .bp {  }
/* NameClass */ .chroma .nc { color: #f0883e; font-weight: bold }
/* NameConstant */ .chroma .no { color: #79c0ff; font-weight: bold }
/* NameDecorator */ .chroma .nd { color: #d2a8ff; font-weight: bold }
/* NameEntity */ .chroma .ni { color: #ffa657 }
/* NameException */ .chroma .ne { color: #f0883e; font-weight: bold }
/* NameFunction */ .chroma .nf { color: #d2a8ff; font-weight: bold }
/* NameFunctionMagic */ .chroma .fm {  }
/* NameLabel */ .chroma .nl { color: #79c0ff; font-weight: bold }
/* NameNamespace */ .chroma .nn { color: #ff7b72 }
/* NameOther */ .chroma .nx {  }
/* NameProperty */ .chroma .py { color: #79c0ff }
/* NameTag */ .chroma .nt { color: #7ee787 }
/* NameVariable */ .chroma .nv { color: #79c0ff }
/* NameVariableClass */ .chroma .vc {  }
/* NameVariableGlobal */ .chroma .vg {  }
/* NameVariableInstance */ .chroma .vi {  }
/* NameVariableMagic */ .chroma .vm {  }
/* Literal */ .chroma .l { color: #a5d6ff }
/* LiteralDate */ .chroma .ld { color: #79c0ff }
/* LiteralString */ .chroma .s { color: #a5d6ff }
/* LiteralStringAffix */ .chroma .sa { color: #79c0ff }
/* LiteralStringBacktick */ .chroma .sb { color: #a5d6ff }
/* LiteralStringChar */ .chroma .sc { color: #a5d6ff }
/* LiteralStringDelimiter */ .chroma .dl { color: #79c0ff }
/* LiteralStringDoc */ .chroma .sd { color: #a5d6ff }
/* LiteralStringDouble */ .chroma .s2 { color: #a5d6ff }
/* LiteralStringEscape */ .chroma .se { color: #79c0ff }
/* LiteralStringHeredoc */ .chroma .sh { color: #79c0ff }
/* LiteralStringInterpol */ .chroma .si { color: #a5d6ff }
/* LiteralStringOther */ .chroma .sx { color: #a5d6ff }
/* LiteralStringRegex */ .chroma .sr { color: #79c0ff }
/* LiteralStringSingle */ .chroma .s1 { color: #a5d6ff }
/* LiteralStringSymbol */ .chroma .ss { color: #a5d6ff }
/* LiteralNumber */ .chroma .m { color: #a5d6ff }
/* LiteralNumberBin */ .chroma .mb { color: #a5d6ff }
/* LiteralNumberFloat */ .chroma .mf { color: #a5d6ff }
/* LiteralNumberHex */ .chroma .mh { color: #a5d6ff }
/* LiteralNumberInteger */ .chroma .mi { color: #a5d6ff }
/* LiteralNumberIntegerLong */ .chroma .il { color: #a5d6ff }
/* LiteralNumberOct */ .chroma .mo { color: #a5d6ff }
/* Operator */ .chroma .o { color: #ff7b72; font-weight: bold }
/* OperatorWord */ .chroma .ow { color: #ff7b72; font-weight: bold }
/* Punctuation */ .chroma .p {  }
/* Comment */ .chroma .c { color: #8b949e; font-style: italic }
/* CommentHashbang */ .chroma .ch { color: #8b949e; font-style: italic }
/* CommentMultiline */ .chroma .cm { color: #8b949e; font-style: italic }
/* CommentSingle */ .chroma .c1 { color: #8b949e; font-style: italic }
/* CommentSpecial */ .chroma .cs { color: #8b949e; font-weight: bold; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #8b949e; font-weight: bold; font-style: italic }
/* CommentPreprocFile */ .chroma .cpf { color: #8b949e; font-weight: bold; font-style: italic }
/* Generic */ .chroma .g {  }
/* GenericDeleted */ .chroma .gd { color: #ffa198; background-color: #490202 }
/* GenericEmph */ .chroma .ge { font-style: italic }
/* GenericError */ .chroma .gr { color: #ffa198 }
/* GenericHeading */ .chroma .gh { color: #79c0ff; font-weight: bold }
/* GenericInserted */ .chroma .gi { color: #56d364; background-color: #0f5323 }
/* GenericOutput */ .chroma .go { color: #8b949e }
/* GenericPrompt */ .chroma .gp { color: #8b949e }
/* GenericStrong */ .chroma .gs { font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #79c0ff }
/* GenericTraceback */ .chroma .gt { color: #ff7b72 }
/* GenericUnderline */ .chroma .gl { text-decoration: underline }
/* TextWhitespace */ .chroma .w { color: #6e7681 }

    }

    @media (prefers-color-scheme: light) {
        /* Background */ .bg { background-color: #ffffff; }
/* PreWrapper */ .chroma { background-color: #ffffff; }
/* Other */ .chroma .x {  }
/* Error */ .chroma .err { color: #a61717; background-color: #e3d2d2 }
/* CodeLine */ .chroma .cl {  }
/* LineLink */ .chroma .lnlinks { outline: none; text-decoration: none; color: inherit }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; }
/* LineHighlight */ .chroma .hl { background-color: #ffffcc }
/* LineNumbersTable */ .chroma .lnt { white-space: pre; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
/* LineNumbers */ .chroma .ln { white-space: pre; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
/* Line */ .chroma .line { display: flex; }
/* Keyword */ .chroma .k { color: #000000; font-weight: bold }
/* KeywordConstant */ .chroma .kc { color: #000000; font-weight: bold }
/* KeywordDeclaration */ .chroma .kd { color: #000000; font-weight: bold }
/* KeywordNamespace */ .chroma .kn { color: #000000; font-weight: bold }
/* KeywordPseudo */ .chroma .kp { color: #000000; font-weight: bold }
/* KeywordReserved */ .chroma .kr { color: #000000; font-weight: bold }
/* KeywordType */ .chroma .kt { color: #445588; font-weight: bold }
/* Name */ .chroma .n {  }
/* NameAttribute */ .chroma .na { color: #008080 }
/* NameBuiltin */ .chroma .nb { color: #0086b3 }
/* NameBuiltinPseudo */ .chroma .bp { color: #999999 }
/* NameClass */ .chroma .nc { color: #445588; font-weight: bold }
/* NameConstant */ .chroma .no { color: #008080 }
/* NameDecorator */ .chroma .nd { color: #3c5d5d; font-weight: bold }
/* NameEntity */ .chroma .ni { color: #800080 }
/* NameException */ .chroma .ne { color: #990000; font-weight: bold }
/* NameFunction */ .chroma .nf { color: #990000; font-weight: bold }
/* NameFunctionMagic */ .chroma .fm {  }
/* NameLabel */ .chroma .nl { color: #990000; font-weight: bold }
/* NameNamespace */ .chroma .nn { color: #555555 }
/* NameOther */ .chroma .nx {  }
/* NameProperty */ .chroma .py {  }
/* NameTag */ .chroma .nt { color: #000080 }
/* NameVariable */ .chroma .nv { color: #008080 }
/* NameVariableClass */ .chroma .vc { color: #008080 }
/* NameVariableGlobal */ .chroma .vg { color: #008080 }
/* NameVariableInstance */ .chroma .vi { color: #008080 }
/* NameVariableMagic */ .chroma .vm {  }
/* Literal */ .chroma .l {  }
/* LiteralDate */ .chroma .ld {  }
/* LiteralString */ .chroma .s { color: #dd1144 }
/* LiteralStringAffix */ .chroma .sa { color: #dd1144 }
/* LiteralStringBacktick */ .chroma .sb { color: #dd1144 }
/* LiteralStringChar */ .chroma .sc { color: #dd1144 }
/* LiteralStringDelimiter */ .chroma .dl { color: #dd1144 }
/* LiteralStringDoc */ .chroma .sd { color: #dd1144 }
/* LiteralStringDouble */ .chroma .s2 { color: #dd1144 }
/* LiteralStringEscape */ .chroma .se { color: #dd1144 }
/* LiteralStringHeredoc */ .chroma .sh { color: #dd1144 }
/* LiteralStringInterpol */ .chroma .si { color: #dd1144 }
/* LiteralStringOther */ .chroma .sx { color: #dd1144 }
/* LiteralStringRegex */ .chroma .sr { color: #009926 }
/* LiteralStringSingle */ .chroma .s1 { color: #dd1144 }
/* LiteralStringSymbol */ .chroma .ss { color: #990073 }
/* LiteralNumber */ .chroma .m { color: #009999 }
/* LiteralNumberBin */ .chroma .mb { color: #009999 }
/* LiteralNumberFloat */ .chroma .mf { color: #009999 }
/* LiteralNumberHex */ .chroma .mh { color: #009999 }
/* LiteralNumberInteger */ .chroma .mi { color: #009999 }
/* LiteralNumberIntegerLong */ .chroma .il { color: #009999 }
/* LiteralNumberOct */ .chroma .mo { color: #009999 }
/* Operator */ .chroma .o { color: #000000; font-weight: bold }
/* OperatorWord */ .chroma .ow { color: #000000; font-weight: bold }
/* Punctuation */ .chroma .p {  }
/* Comment */ .chroma .c { color: #999988; font-style: italic }
/* CommentHashbang */ .chroma .ch { color: #999988; font-style: italic }
/* CommentMultiline */ .chroma .cm { color: #999988; font-style: italic }
/* CommentSingle */ .chroma .c1 { color: #999988; font-style: italic }
/* CommentSpecial */ .chroma .cs { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreprocFile */ .chroma .cpf { color: #999999; font-weight: bold; font-style: italic }
/* Generic */ .chroma .g {  }
/* GenericDeleted */ .chroma .gd { color: #000000; background-color: #ffdddd }
/* GenericEmph */ .chroma .ge { color: #000000; font-style: italic }
/* GenericError */ .chroma .gr { color: #aa0000 }
/* GenericHeading */ .chroma .gh { color: #999999 }
/* GenericInserted */ .chroma .gi { color: #000000; background-color: #ddffdd }
/* GenericOutput */ .chroma .go { color: #888888 }
/* GenericPrompt */ .chroma .gp { color: #555555 }
/* GenericStrong */ .chroma .gs { font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa }
/* GenericTraceback */ .chroma .gt { color: #aa0000 }
/* GenericUnderline */ .chroma .gl { text-decoration: underline }
/* TextWhitespace */ .chroma .w { color: #bbbbbb }

    }


@media (prefers-reduced-motion: reduce) {
    .paige-header-link {
        transition: none;
    }
}




</style>


    
</head>

    <body class="d-flex flex-column">

        

        <div class="container flex-fill" id="paige-root">
            <div class="row">
                <div class="col">
                    
                    


    <header class="my-3" id="paige-header">
        

        




        








    





    



    <nav>
        <ul class="align-items-center justify-content-center nav ">
            
                
                
                
                
                

                <li class="nav-item ">
                    <a   class="  nav-link   text-decoration-underline "  href="/"    >Home</a>

                    
                </li>
            
                
                
                
                
                

                <li class="nav-item ">
                    <a   class="  nav-link   text-decoration-underline "  href="/blogs/"    >Blogs</a>

                    
                </li>
            
                
                
                
                
                

                <li class="nav-item ">
                    <a  aria-current="page"   class=" active  text-body-emphasis    nav-link   text-decoration-underline "  href="/books/"    >Books</a>

                    
                </li>
            
                
                
                
                
                

                <li class="nav-item ">
                    <a   class="  nav-link   text-decoration-underline "  href="/resume/"    >Resume</a>

                    
                </li>
            
                
                
                
                
                

                <li class="nav-item ">
                    <a   class="  nav-link   text-decoration-underline "  href="/search/"    >Search</a>

                    
                </li>
            
                
                
                
                
                

                <li class="nav-item ">
                    <a   class="  nav-link   text-decoration-underline "  href="/tags/"    >Tags</a>

                    
                </li>
            
        </ul>
    </nav>


        

        
    </header>



                    <main class="mt-3" id="paige-main">
                        

                        



















    



    
        
    




<article  class="paige-published paige-single"  id="paige-article">
    <div class="align-items-center d-flex flex-column mb-0">
        













<div class="mw-100" id="paige-metadata">
    
        <h1 class="fw-bold text-center" id="paige-title">Learning Go</h1>
    

    
        <p class="lead text-center" id="paige-description">Simple book on playing with Go</p>
    

    
        <div class="mb-3">
            

            

            

            

            
                <p class="mb-0 text-center text-secondary" id="paige-reading-time">22 minutes</p>
            
        </div>
    
</div>

        



        


    <div class="mw-100" id="paige-toc">
        <div class="border mb-3 pe-3 ps-3 pt-3 rounded">
            <nav id="TableOfContents">
  <ol>
    <li>
      <ol>
        <li><a href="#common-concepts-across-builtin-types">Common Concepts Across BuiltIn Types</a></li>
        <li><a href="#bullt-ins">Bullt Ins</a></li>
        <li><a href="#declaring-variables">Declaring Variables</a></li>
        <li><a href="#constants">Constants</a></li>
        <li><a href="#naming-variables">Naming Variables</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li>
      <ol>
        <li><a href="#array">Array</a></li>
        <li><a href="#slice">Slice</a></li>
        <li><a href="#strings">Strings</a></li>
        <li><a href="#maps">Maps</a></li>
        <li><a href="#structs">Structs</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li>
      <ol>
        <li><a href="#blocks">Blocks</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li>
      <ol>
        <li><a href="#for-loops--iterations">for loops  [iterations]</a></li>
        <li><a href="#break-and-continue">break and continue</a></li>
        <li><a href="#switch">Switch</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li>
      <ol>
        <li><a href="#decalring-and-calling-functions">Decalring and Calling Functions</a></li>
        <li><a href="#functions-are-values">Functions are Values</a></li>
        <li><a href="#closures">Closures</a></li>
        <li><a href="#defer">Defer</a></li>
        <li><a href="#go-is-call-by-value">Go is Call by Value</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li>
      <ol>
        <li><a href="#method-vs-functions">Method vs Functions</a></li>
        <li><a href="#use-embeddings-for-composition">Use Embeddings for Composition</a></li>
        <li><a href="#interfaces">Interfaces</a></li>
      </ol>
    </li>
    <li><a href="#how-to-check-value-implements-interfacehttpsstackoverflowcomquestions27803654explanation-of-checking-if-value-implements-interface"><a href="https://stackoverflow.com/questions/27803654/explanation-of-checking-if-value-implements-interface">how to check value implements interface</a></a>
      <ol>
        <li><a href="#type-assertion-and-type-switches">Type assertion and Type Switches</a></li>
        <li><a href="#dependency-injection-via-implicit-interfaces">Dependency Injection Via Implicit Interfaces</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li>
      <ol>
        <li><a href="#sentinel-errors">Sentinel Errors</a></li>
        <li><a href="#error-are-values">Error are Values</a></li>
        <li><a href="#wrapping-errors">Wrapping Errors</a></li>
        <li><a href="#panic---defer---recover">Panic -&gt; Defer -&gt; Recover</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li>
      <ol>
        <li><a href="#repositories-modules-and-packages">Repositories, Modules and Packages</a></li>
        <li><a href="#gomod">go.mod</a></li>
        <li><a href="#building-packages">Building Packages</a></li>
        <li><a href="#working-with-modules">Working with Modules</a></li>
        <li><a href="#publishing-your-module">Publishing Your Module</a></li>
        <li><a href="#versioning-your-module">Versioning Your Module</a></li>
        <li><a href="#module-proxy-server">Module Proxy Server</a></li>
        <li><a href="#summary">Summary</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li><a href="#151--references">15.1  References</a></li>
    <li><a href="#152-dependencies-and-modules">15.2 Dependencies and modules</a></li>
  </ol>
</nav>
        </div>
    </div>


        




    <div class="mw-100" id="paige-content"><h1 id="1-setup">1 Setup<a aria-label="Link to this section" class="paige-header-link" href="#1-setup"></a></h1>
<pre tabindex="0"><code class="language-terminal" data-lang="terminal"># environment; defined in .bash_aliases.sh
export GOPATH=$HOME/go
export PATH=$PATH:$GOPATH/bin

# code location
cd /Users/chang/Documents/dev/git/gratia/01_languages/goLang/book_learning_go
cd ch1
go run hello.go

go build -o hello_world hello.go

# install 3rd party tool to do a load test
go install github.com/rakyll/hey@latest
hey https://www.golang.org

# install 3rd party too to format imports
go install golang.org/x/tools/cmd/goimports@latest

# detect shadow variables
go install golang.org/x/tools/go/analysis/passes/shadow/cmd/shadow@latest
</code></pre><ul>
<li>
<p>go run</p>
<ul>
<li>use when you want to run as a script</li>
<li>compiles and put binary in a temporary directory</li>
</ul>
</li>
<li>
<p>go build -o [BINARY_NAME] hello.go</p>
<ul>
<li>outputs the binary</li>
</ul>
</li>
<li>
<p>fetch 3rd party tools</p>
<ul>
<li>Go’s method for publishing code is a bit different than most other languages. Go developers don’t rely on a centrally hosted service, like Maven Central for Java or the NPM registry for JavaScript. Instead, they share projects via their source code repositories</li>
</ul>
</li>
<li>
<p>autoformatting</p>
<ul>
<li>
<p>formats the file</p>
<ul>
<li>go fmt .</li>
</ul>
</li>
<li>
<p>format the imports</p>
<ul>
<li>goimports -l -w .
<ul>
<li>the <code>-l</code> flag tells <code>goimports</code> to print the files with incorrect formatting to the console. The <code>-w</code> flag tells <code>goimports</code> to modify the files in-place. The <code>.</code> specifies the files to be scanned</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>linting</p>
<ul>
<li>makes the code follows a style per
<ul>
<li><a href="https://go.dev/doc/effective_go">effective go</a></li>
<li><a href="https://github.com/golang/go/wiki/CodeReviewComments">go review</a></li>
</ul>
</li>
<li>setup
<ul>
<li>go install golang.org/x/lint/golint@latest</li>
<li>run from top of the current project
<ul>
<li>golint ./&hellip;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>makefile</p>
<ul>
<li>makefile to fmt, lint, and build</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>.DEFAULT_GOAL := build

fmt:
        go fmt ./...
.PHONY:fmt

lint: fmt
        golint ./...
.PHONY:lint

vet: fmt
        go vet ./...
.PHONY:vet

build: vet
        go build hello.go
.PHONY:build
</code></pre><ul>
<li>
<p>make ch1 a go module, which is needd for</p>
<ul>
<li>cd ch1 &amp;&amp; go mod init ch1</li>
<li>what is a go module?
<code>Go modules commonly consist of one project or library and contain a collection of Go packages that are then released together. Go modules **solve many problems with GOPATH , the original system, by allowing users to put their project code in their chosen directory and specify versions of dependencies for each module**.</code></li>
</ul>
</li>
<li>
<p>make build</p>
</li>
</ul>
<h1 id="2-primitive-types-and-declarations">2 Primitive Types and Declarations<a aria-label="Link to this section" class="paige-header-link" href="#2-primitive-types-and-declarations"></a></h1>
<h3 id="common-concepts-across-builtin-types">Common Concepts Across BuiltIn Types<a aria-label="Link to this section" class="paige-header-link" href="#common-concepts-across-builtin-types"></a></h3>
<ul>
<li>
<p>zero value: a value assigned to declared but unassigned variable</p>
<ul>
<li>strings &ndash;&gt; empty string</li>
<li>boolean &ndash;&gt; false</li>
<li></li>
</ul>
</li>
<li>
<p>Literals</p>
<ul>
<li>
<p> writing out a number, character, or string</p>
</li>
<li>
<p>4 Types</p>
<ol>
<li>
<p>Integer</p>
<ol>
<li>Usually based 10, but other bases are available:
<ol>
<li>0b for binary (base two), 0o for octal (base eight), or 0x for hexadecimal (base sixteen)</li>
</ol>
</li>
</ol>
</li>
<li>
<p>Floating</p>
<ol>
<li>ex: 6.03e23</li>
</ol>
</li>
<li>
<p>Rune</p>
<ol>
<li>Characters that are surrounded by single quotes
<ol>
<li>Single and double quoates are not interchangable</li>
</ol>
</li>
<li>Different types:
<ol>
<li>single Unicode characters (<code>'a'</code>), 8-bit octal numbers (<code>'\141'</code>), 8-bit hexadecimal numbers (<code>'\x61'</code>), 16-bit hexadecimal numbers (<code>'\u0061'</code>), or 32-bit Unicode numbers (<code>'\U00000061'</code>)</li>
</ol>
</li>
</ol>
</li>
<li>
<p>String</p>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="bullt-ins">Bullt Ins<a aria-label="Link to this section" class="paige-header-link" href="#bullt-ins"></a></h3>
<ul>
<li>Go doesn’t allow automatic type promotion between variables because GO emphasizes clarity of intent and readability</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-GO" data-lang="GO"><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">x</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">y</span> <span class="kt">float64</span> <span class="p">=</span> <span class="mf">30.2</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">z</span> <span class="kt">float64</span> <span class="p">=</span> <span class="nb">float64</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="o">+</span> <span class="nx">y</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">d</span> <span class="kt">int</span> <span class="p">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="nx">y</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="declaring-variables">Declaring Variables<a aria-label="Link to this section" class="paige-header-link" href="#declaring-variables"></a></h3>
<ul>
<li>Default
<ul>
<li>var x int = 10</li>
</ul>
</li>
<li>Since value can have defualt type, on can drop the type
<ul>
<li>var x = 10</li>
</ul>
</li>
<li>assign to zero values
<ul>
<li>var x, y int</li>
</ul>
</li>
<li>Declaration lists</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-GO" data-lang="GO"><span class="line"><span class="cl">	<span class="kd">var</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">x</span>    <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">y</span>        <span class="p">=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">z</span>    <span class="kt">int</span> <span class="p">=</span> <span class="mi">30</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">d</span><span class="p">,</span> <span class="nx">e</span>     <span class="p">=</span> <span class="mi">40</span><span class="p">,</span> <span class="s">&#34;hello&#34;</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">f</span><span class="p">,</span> <span class="nx">g</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span></code></pre></div><ul>
<li>Short declaration
<ul>
<li>When you are ==insde a function==, one can use the := to replace a var assignment</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-GO" data-lang="GO"><span class="line"><span class="cl">		<span class="kd">var</span> <span class="nx">x</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">		<span class="nx">x</span> <span class="o">:=</span> <span class="mi">10</span>
</span></span></code></pre></div><h3 id="constants">Constants<a aria-label="Link to this section" class="paige-header-link" href="#constants"></a></h3>
<ul>
<li>represents a value is immutable</li>
<li>GO&rsquo;s peculariteis
<ul>
<li>Constants in Go are a way to give names to literals, which means they can be assigned to these values</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>	-   Numeric literals   
	-   `true` and `false`
	-   Strings
	-   Runes
	-   The built-in functions `complex`, `real`, `imag`, `len`, and `cap`
	-   Expressions that consist of operators and the preceding values
</code></pre><h3 id="naming-variables">Naming Variables<a aria-label="Link to this section" class="paige-header-link" href="#naming-variables"></a></h3>
<ul>
<li> Like most languages, Go requires identifier names to start with a letter or underscore, and the name can contain numbers, underscores, and letters. Go’s definition of “letter” and “number” is a bit broader than many languages. Any Unicode character that is considered a letter or digit is allowed</li>
</ul>
<h1 id="3-composite-types">3 Composite Types<a aria-label="Link to this section" class="paige-header-link" href="#3-composite-types"></a></h1>
<h3 id="array">Array<a aria-label="Link to this section" class="paige-header-link" href="#array"></a></h3>
<pre><code>- Ex
</code></pre>
<pre tabindex="0"><code>	var x = [3]int{10,20,30}

	var x = [12]int{1, 5: 4, 6, 10: 100, 15}
	outut: [1, 0, 0, 0, 0, 4, 6, 0, 0, 0, 100, 15]
</code></pre><h3 id="slice">Slice<a aria-label="Link to this section" class="paige-header-link" href="#slice"></a></h3>
<ul>
<li>slice has no length, compared to arrays</li>
<li>Good for sequential data
<ul>
<li>Ex:</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>		var x = []int{1, 5: 4, 6, 10: 100, 15}
		outut: [1, 0, 0, 0, 0, 4, 6, 0, 0, 0, 100, 15]
	
</code></pre><ul>
<li>
<p>append</p>
<pre tabindex="0"><code>    var x = []int{1, 2, 3}
    x = append(x, 4, 5)
</code></pre></li>
<li>
<p>make</p>
<ul>
<li> create an empty slice that already has a length or capacity specified.</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>	x := make([]int, 5)
	x = append(x, 10)
</code></pre><h3 id="strings">Strings<a aria-label="Link to this section" class="paige-header-link" href="#strings"></a></h3>
<ul>
<li>Under the covers, Go uses a sequence of bytes to represent a strin
<ul>
<li>var s string = &ldquo;Hello there&rdquo;</li>
<li>var b byte = s[6]</li>
</ul>
</li>
</ul>
<h3 id="maps">Maps<a aria-label="Link to this section" class="paige-header-link" href="#maps"></a></h3>
<ul>
<li>Examples</li>
</ul>
<pre tabindex="0"><code>	var nilMap map[string]int
	
	totalWins := map[string]int{}
	
	teams := map[string][]string {
	    &#34;Orcas&#34;: []string{&#34;Fred&#34;, &#34;Ralph&#34;, &#34;Bijou&#34;},
	    &#34;Lions&#34;: []string{&#34;Sarah&#34;, &#34;Peter&#34;, &#34;Billie&#34;},
	    &#34;Kittens&#34;: []string{&#34;Waldo&#34;, &#34;Raul&#34;, &#34;Ze&#34;},
	}
	
	// I know there are 10 keys, but I don&#39;t know the values yet
	ages := make(map[int][]string, 10)
</code></pre><ul>
<li> map returns the zero value if you ask for the value associated with a key that’s not in the map</li>
</ul>
<pre tabindex="0"><code>	totalWins := map[string]int{}
	totalWins[&#34;Orcas&#34;] = 1
	totalWins[&#34;Lions&#34;] = 2
	fmt.Println(totalWins[&#34;Orcas&#34;]) // prints 1
	fmt.Println(totalWins[&#34;Kittens&#34;]) // prints 0, which is the zero value for ints
</code></pre><ul>
<li>but how do I know if 0 is because the value is truly zero, or bc key does not exist?
<ul>
<li>Comma ok idiom</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>		m := map[string]int{
		    &#34;hello&#34;: 5,
		    &#34;world&#34;: 0,
		}
		v, ok := m[&#34;hello&#34;]
		fmt.Println(v, ok)
		
		v, ok = m[&#34;world&#34;]
		fmt.Println(v, ok) // ok = true
		
		v, ok = m[&#34;goodbye&#34;]
		fmt.Println(v, ok) // ok = false
</code></pre><h3 id="structs">Structs<a aria-label="Link to this section" class="paige-header-link" href="#structs"></a></h3>
<ul>
<li>Improves upon map by
<ul>
<li>constrain a map to only allow certain keys.</li>
<li>values in struct can be of different types</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>	type person struct {
	    name string
	    age  int
	    pet  string
	}

	var fred person

	julia := person{
	    &#34;Julia&#34;,
	    40,
	    &#34;cat&#34;,
	}

	beth := person{
	    age:  30,
	    name: &#34;Beth&#34;,
	}
</code></pre><h1 id="4-blocks-shadows-and-control-structures">4 Blocks, Shadows, And Control Structures<a aria-label="Link to this section" class="paige-header-link" href="#4-blocks-shadows-and-control-structures"></a></h1>
<h3 id="blocks">Blocks<a aria-label="Link to this section" class="paige-header-link" href="#blocks"></a></h3>
<ul>
<li>Go blocks allows variable declaration with scope
<ul>
<li>if inner scope collides/shadows an outer variable, the inner variable takes precedence</li>
<li>A shadowing variable is a variable that has the same name as a variable in a containing block. For as long as the shadowing variable exists, you cannot access a shadowed variable.</li>
<li>Ex</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>func main() {
    x := 10
    if x &gt; 5 {
        fmt.Println(x)
        x := 5
        fmt.Println(x)
    }
    fmt.Println(x)
}
output: 10, 5, 10
</code></pre><h1 id="if">If<a aria-label="Link to this section" class="paige-header-link" href="#if"></a></h1>
<ul>
<li>very similar to other languages</li>
</ul>
<pre tabindex="0"><code>	n := rand.Intn(10)
	if n == 0 {
	    fmt.Println(&#34;That&#39;s too low&#34;)
	} else if n &gt; 5 {
	    fmt.Println(&#34;That&#39;s too big:&#34;, n)
	} else {
	    fmt.Println(&#34;That&#39;s a good number:&#34;, n)
	}
</code></pre><ul>
<li>But one can declare variables that are scoped to the condition and to both the <code>if</code> and <code>else</code> block</li>
</ul>
<pre tabindex="0"><code>	if n := rand.Intn(10); n == 0 {
	    fmt.Println(&#34;That&#39;s too low&#34;)
	} else if n &gt; 5 {
	    fmt.Println(&#34;That&#39;s too big:&#34;, n)
	} else {
	    fmt.Println(&#34;That&#39;s a good number:&#34;, n)
	}
</code></pre><h3 id="for-loops--iterations">for loops  [iterations]<a aria-label="Link to this section" class="paige-header-link" href="#for-loops--iterations"></a></h3>
<ul>
<li>
<p>There a 4 ways to iterate</p>
</li>
<li>
<p>METHOD 1: for - range</p>
<ul>
<li>returns an index and a value</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>	evenVals := []int{2, 4, 6, 8, 10, 12}
	for i, v := range evenVals {
	    fmt.Println(i, v)
	}
</code></pre><pre><code>  - iterate through a map
</code></pre>
<pre tabindex="0"><code>uniqueNames := map[string]bool{&#34;Fred&#34;: true, &#34;Raul&#34;: true, &#34;Wilma&#34;: true}
for k, v= range uniqueNames {
    fmt.Println(k)
}

// if i only want the keys
for k: = range uniqueNames {
    fmt.Println(k)
}
</code></pre><pre><code>- the iterate variables are copies
</code></pre>
<pre tabindex="0"><code>evenVals := []int{2, 4, 6, 8, 10, 12}
for _, v := range evenVals {
    v *= 2
}
fmt.Println(evenVals) //[2 4 6 8 10 12]
</code></pre><h3 id="break-and-continue">break and continue<a aria-label="Link to this section" class="paige-header-link" href="#break-and-continue"></a></h3>
<ul>
<li>looks like the do while loop</li>
</ul>
<pre tabindex="0"><code>	for {
	    // things to do in the loop
	    if !CONDITION {
	        break
	    }
	}
</code></pre><pre tabindex="0"><code>for i := 1; i &lt;= 100; i++ {
    if i%3 == 0 &amp;&amp; i%5 == 0 {
        fmt.Println(&#34;FizzBuzz&#34;)
        continue
    }
    if i%3 == 0 {
        fmt.Println(&#34;Fizz&#34;)
        continue
    }
    if i%5 == 0 {
        fmt.Println(&#34;Buzz&#34;)
        continue
    }
    fmt.Println(i)
}
</code></pre><ul>
<li>Condition only</li>
</ul>
<pre tabindex="0"><code>i := 1
for i &lt; 100 {
        fmt.Println(i)
        i = i * 2
}
</code></pre><h3 id="switch">Switch<a aria-label="Link to this section" class="paige-header-link" href="#switch"></a></h3>
<ul>
<li>when to use switch and if?</li>
</ul>
<pre tabindex="0"><code>	A switch statement, even a blank switch, indicates that there is some relationship between the values or comparisons in each case.
</code></pre><pre tabindex="0"><code>words := []string{&#34;hi&#34;, &#34;salutations&#34;, &#34;hello&#34;}
for _, word := range words {
    switch wordLen := len(word); {
    case wordLen &lt; 5:
        fmt.Println(word, &#34;is a short word!&#34;)
    case wordLen &gt; 10:
        fmt.Println(word, &#34;is a long word!&#34;)
    default:
        fmt.Println(word, &#34;is exactly the right length.&#34;)
    }
}
</code></pre><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Find number of plants once can plant if</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1 = there is a plant</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 0 = open spance</span>
</span></span><span class="line"><span class="cl"><span class="c1"># One can only plan in non-adjacent splts</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Ex1: [1, 0, 0, 0, 1] --&gt; cnt =1</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Ex2: [0, 0] --&gt; cnt =1</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">findNumPlants</span><span class="p">(</span><span class="n">flowerBeds</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">flowerBeds</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">left</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="n">right</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">flowerBeds</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="n">flowerBeds</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span> <span class="ow">or</span> <span class="n">flowerBeds</span><span class="p">[</span><span class="n">right</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="k">continue</span>
</span></span><span class="line"><span class="cl">			<span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">			<span class="n">flowerBeds</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">cnt</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">precsion</span> <span class="n">vs</span> <span class="n">recall</span> <span class="n">vs</span> <span class="n">AUC</span>
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">why</span> <span class="ow">is</span> <span class="n">GPT</span> <span class="n">more</span> <span class="n">popular</span> <span class="n">than</span> <span class="n">Bert</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">counterByNonLocal</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="n">c</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="n">candidates</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="nf">count</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">		<span class="k">nonlocal</span> <span class="n">c</span>
</span></span><span class="line"><span class="cl">		<span class="k">nonlocal</span> <span class="n">candidates</span>
</span></span><span class="line"><span class="cl">		<span class="n">candidates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="n">c</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="n">count</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="n">candidates</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counterByNonLocal</span><span class="p">()</span> <span class="c1"># [11], 1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">counterPassByReference</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="n">cs</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="n">cs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="n">c</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="n">candidates</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">	<span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="n">count</span><span class="p">(</span><span class="n">candidates</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="n">candidates</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>	
</span></span><span class="line"><span class="cl"><span class="n">counterPassByReference</span><span class="p">()</span> <span class="c1"># output: [11], 0</span>
</span></span></code></pre></div><h1 id="5-functions">5 Functions<a aria-label="Link to this section" class="paige-header-link" href="#5-functions"></a></h1>
<h3 id="decalring-and-calling-functions">Decalring and Calling Functions<a aria-label="Link to this section" class="paige-header-link" href="#decalring-and-calling-functions"></a></h3>
<ul>
<li>Optional parameters
<ul>
<li>GO does not have named and optional parameters</li>
<li>Example below achieves the same</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">		<span class="kd">type</span> <span class="nx">MyFuncOpts</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">FirstName</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">LastName</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">Age</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="kd">func</span> <span class="nf">MyFunc</span><span class="p">(</span><span class="nx">opts</span> <span class="nx">MyFuncOpts</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="c1">// do something here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="nf">MyFunc</span><span class="p">(</span><span class="nx">MyFuncOpts</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		        <span class="nx">LastName</span><span class="p">:</span> <span class="s">&#34;Patel&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		        <span class="nx">Age</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		    <span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span></code></pre></div><ul>
<li>variadic input parameters and slices
<ul>
<li>enables one to pass n values of the same type</li>
<li>The variadic parameter must be the last (or only) parameter in the input parameter list. You indicate it with three dots (…) before the type.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">func</span> <span class="nf">addTo</span><span class="p">(</span><span class="nx">base</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">vals</span> <span class="o">...</span><span class="kt">int</span><span class="p">)</span> <span class="p">[]</span><span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">out</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">vals</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">vals</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	        <span class="nx">out</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">out</span><span class="p">,</span> <span class="nx">base</span><span class="o">+</span><span class="nx">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">}</span>
</span></span><span class="line"><span class="cl">	    <span class="k">return</span> <span class="nx">out</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span></code></pre></div><h3 id="functions-are-values">Functions are Values<a aria-label="Link to this section" class="paige-header-link" href="#functions-are-values"></a></h3>
<ul>
<li>The type of a function is built out of the keyword func and the types of the parameters and return values. This combination is called the signature of the function. Any function that has the exact same number and types of parameters and return values meets the type signature.</li>
<li>function type delcarations
<ul>
<li>Just like you can use the <code>type</code> keyword to define a <code>struct</code>, you can use it to define a function type, too</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">opMapV1</span> <span class="p">=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">func</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;+&#34;</span><span class="p">:</span> <span class="nx">add</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;-&#34;</span><span class="p">:</span> <span class="nx">sub</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;*&#34;</span><span class="p">:</span> <span class="nx">mul</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;/&#34;</span><span class="p">:</span> <span class="nx">div</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">opFuncType</span> <span class="kd">func</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">opMapV2</span> <span class="p">=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">opFuncType</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="closures">Closures<a aria-label="Link to this section" class="paige-header-link" href="#closures"></a></h3>
<ul>
<li>Closure are function defined in another function
<ul>
<li>The inner functions have access and can modify variables declared in the outer function</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">		<span class="kd">type</span> <span class="nx">Person</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">FirstName</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">LastName</span>  <span class="kt">string</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">Age</span>       <span class="kt">int</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="nx">people</span> <span class="o">:=</span> <span class="p">[]</span><span class="nx">Person</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="p">{</span><span class="s">&#34;Pat&#34;</span><span class="p">,</span> <span class="s">&#34;Patterson&#34;</span><span class="p">,</span> <span class="mi">37</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		    <span class="p">{</span><span class="s">&#34;Tracy&#34;</span><span class="p">,</span> <span class="s">&#34;Bobbert&#34;</span><span class="p">,</span> <span class="mi">23</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		    <span class="p">{</span><span class="s">&#34;Fred&#34;</span><span class="p">,</span> <span class="s">&#34;Fredson&#34;</span><span class="p">,</span> <span class="mi">18</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="c1">// sort by age
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">// outer function is sort.Slce; inner function is func(i int, j int)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">sort</span><span class="p">.</span><span class="nf">Slice</span><span class="p">(</span><span class="nx">people</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">i</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">j</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="k">return</span> <span class="nx">people</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">Age</span> <span class="p">&lt;</span> <span class="nx">people</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">Age</span>
</span></span><span class="line"><span class="cl">		<span class="p">})</span>
</span></span></code></pre></div><h3 id="defer">Defer<a aria-label="Link to this section" class="paige-header-link" href="#defer"></a></h3>
<ul>
<li>In Go, the cleanup code is attached to the function with the <code>defer</code> keyword</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">)</span> <span class="p">&lt;</span> <span class="mi">2</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="s">&#34;no file specified&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">f</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">defer</span> <span class="nx">f</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">data</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="mi">2048</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">count</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">f</span><span class="p">.</span><span class="nf">Read</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="nx">data</span><span class="p">[:</span><span class="nx">count</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="nx">io</span><span class="p">.</span><span class="nx">EOF</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="go-is-call-by-value">Go is Call by Value<a aria-label="Link to this section" class="paige-header-link" href="#go-is-call-by-value"></a></h3>
<ul>
<li>When you supply a variable for a parameter to a function, Go always makes a copy of the value of the variable</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">person</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">age</span>  <span class="kt">int</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">modifyFails</span><span class="p">(</span><span class="nx">i</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">s</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">p</span> <span class="nx">person</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">i</span> <span class="p">=</span> <span class="nx">i</span> <span class="o">*</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="nx">s</span> <span class="p">=</span> <span class="s">&#34;Goodbye&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">p</span><span class="p">.</span><span class="nx">name</span> <span class="p">=</span> <span class="s">&#34;Bob&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">p</span> <span class="o">:=</span> <span class="nx">person</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">i</span> <span class="o">:=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="nx">s</span> <span class="o">:=</span> <span class="s">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">modifyFails</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Output</span><span class="p">:</span> <span class="mi">2</span> <span class="nx">Hello</span> <span class="p">{</span><span class="mi">0</span> <span class="p">}</span>
</span></span></code></pre></div><h1 id="6-pointers">6 Pointers<a aria-label="Link to this section" class="paige-header-link" href="#6-pointers"></a></h1>
<ul>
<li>A pointer is simply a variable that holds the location in memory where a value is stored</li>
<li>Example</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">x</span> <span class="kt">int32</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">y</span> <span class="kt">bool</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">	<span class="nx">pointerX</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">x</span>
</span></span><span class="line"><span class="cl">	<span class="nx">pointerY</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">y</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">pointerZ</span> <span class="o">*</span><span class="kt">string</span>
</span></span></code></pre></div><ul>
<li>==pointers indicate mutable parameters==
<ul>
<li>go is a call by value, which gives rise to immutability
<pre tabindex="0"><code>Immutable types are safer from bugs, easier to understand, and more ready for change. Mutability makes it harder to understand what your program is doing, and much harder to enforce contracts.

Mutable objects is just fine if you are using them entirely locally within a method, and with only one reference to the object
</code></pre><ul>
<li>EXAMPLE</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">		<span class="kd">func</span> <span class="nf">failedUpdate</span><span class="p">(</span><span class="nx">px</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">x2</span> <span class="o">:=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">px</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">x2</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="kd">func</span> <span class="nf">update</span><span class="p">(</span><span class="nx">px</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="o">*</span><span class="nx">px</span> <span class="p">=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">x</span> <span class="o">:=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">		    <span class="nf">failedUpdate</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="c1">// prints 10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		    <span class="nf">update</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="c1">// prints 20
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">}</span>
</span></span></code></pre></div><h1 id="7-types-methods-and-interfaces">7 Types, Methods, and Interfaces<a aria-label="Link to this section" class="paige-header-link" href="#7-types-methods-and-interfaces"></a></h1>
<ul>
<li>GO avoids inhertiance by encouraging compositions.  This is accomplished via types, methods, and interfaces.
<ul>
<li>Like most languages, Go allows you to attach methods to types. It also has type abstraction, allowing you to write code that invokes methods without explicitly specifying the implementation</li>
</ul>
</li>
<li>User Defined Types
<ul>
<li>
<p>IMOW:</p>
<ul>
<li>lessen the use of classes</li>
<li>makes code more readable</li>
</ul>
</li>
<li>
<p>Examples</p>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">		<span class="kd">type</span> <span class="nx">Person</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">FirstName</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">LastName</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">Age</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="kd">type</span> <span class="nx">Score</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">		<span class="kd">type</span> <span class="nx">Converter</span> <span class="kd">func</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="nx">Score</span>  <span class="c1">// Interesting
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="kd">type</span> <span class="nx">TeamScores</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">Score</span>  
</span></span></code></pre></div><ul>
<li>Use the user define types in functions</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">func</span> <span class="p">(</span><span class="nx">p</span> <span class="nx">Person</span><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s %s, age %d&#34;</span><span class="p">,</span> <span class="nx">p</span><span class="p">.</span><span class="nx">FirstName</span><span class="p">,</span> <span class="nx">p</span><span class="p">.</span><span class="nx">LastName</span><span class="p">,</span> <span class="nx">p</span><span class="p">.</span><span class="nx">Age</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span></code></pre></div><h3 id="method-vs-functions">Method vs Functions<a aria-label="Link to this section" class="paige-header-link" href="#method-vs-functions"></a></h3>
<ul>
<li>methods are associated with user define types
<ul>
<li>func (RECEIVER) methodName( params &hellip;) returnType { logic }</li>
<li>RECEIVER refers to the user defined type.  Functions, in comparison, has no RECEIVER.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">Person</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">FirstName</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">LastName</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">Age</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">func</span> <span class="p">(</span><span class="nx">p</span> <span class="nx">Person</span><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s %s, age %d&#34;</span><span class="p">,</span> <span class="nx">p</span><span class="p">.</span><span class="nx">FirstName</span><span class="p">,</span> <span class="nx">p</span><span class="p">.</span><span class="nx">LastName</span><span class="p">,</span> <span class="nx">p</span><span class="p">.</span><span class="nx">Age</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">output</span> <span class="o">:=</span> <span class="nx">p</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span> <span class="c1">//calling the method
</span></span></span></code></pre></div><ul>
<li>
<p>method and function declration cannot be overloaded.</p>
</li>
<li>
<p>When to use pointer in the receiver?</p>
<ul>
<li>Factors</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>		- If your method modifies the receiver, you must use a pointer receiver.
		
		- If your method needs to handle nil instances (see “Code Your Methods for nil Instances”), then it must use a pointer receiver.
		
		- If your method doesn’t modify the receiver, you can use a value receiver.
</code></pre><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">Counter</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">total</span>             <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">lastUpdated</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">Counter</span><span class="p">)</span> <span class="nf">Increment</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">c</span><span class="p">.</span><span class="nx">total</span><span class="o">++</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">c</span><span class="p">.</span><span class="nx">lastUpdated</span> <span class="p">=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="nx">Counter</span><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;total: %d, last updated: %v&#34;</span><span class="p">,</span> <span class="nx">c</span><span class="p">.</span><span class="nx">total</span><span class="p">,</span> <span class="nx">c</span><span class="p">.</span><span class="nx">lastUpdated</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">c</span> <span class="nx">Counter</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">Increment</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="nx">total</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">last</span> <span class="nx">updated</span><span class="p">:</span> <span class="mo">0001</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="o">+</span><span class="mo">0000</span> <span class="nx">UTC</span>
</span></span><span class="line"><span class="cl">	<span class="nx">total</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">last</span> <span class="nx">updated</span><span class="p">:</span> <span class="mi">2009</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">10</span> <span class="mi">23</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="o">+</span><span class="mo">0000</span> <span class="nx">UTC</span> <span class="nx">m</span><span class="p">=</span><span class="o">+</span><span class="mf">0.000000001</span>
</span></span></code></pre></div><ul>
<li>Relationship between method and functions?
<ul>
<li>A function can be &ldquo;aliased&rdquo; to a method</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">		<span class="kd">type</span> <span class="nx">Adder</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">start</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="kd">func</span> <span class="p">(</span><span class="nx">a</span> <span class="nx">Adder</span><span class="p">)</span> <span class="nf">AddTo</span><span class="p">(</span><span class="nx">val</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">start</span> <span class="o">+</span> <span class="nx">val</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="nx">myAdder</span> <span class="o">:=</span> <span class="nx">Adder</span><span class="p">{</span><span class="nx">start</span><span class="p">:</span> <span class="mi">10</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">myAdder</span><span class="p">.</span><span class="nf">AddTo</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="c1">// prints 15
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		
</span></span><span class="line"><span class="cl">		<span class="nx">f1</span> <span class="o">:=</span> <span class="nx">myAdder</span><span class="p">.</span><span class="nx">AddTo</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nf">f1</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>           <span class="c1">// prints 20
</span></span></span></code></pre></div><ul>
<li>
<p>When should one use function vs method?</p>
<ul>
<li>Prefer function when logic depends only on input parameter</li>
</ul>
</li>
<li>
<p>Go enumeration is achieved with ==iota==</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">MailCategory</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">const</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Uncategorized</span> <span class="nx">MailCategory</span> <span class="p">=</span> <span class="kc">iota</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Personal</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Spam</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Social</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Advertisements</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span></code></pre></div><h3 id="use-embeddings-for-composition">Use Embeddings for Composition<a aria-label="Link to this section" class="paige-header-link" href="#use-embeddings-for-composition"></a></h3>
<ul>
<li>Acheive composition via embedded field.</li>
<li>An embedded field is a field in a struct which has no name</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">   <span class="kd">type</span> <span class="nx">Employee</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   	<span class="nx">Name</span>         <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   	<span class="nx">ID</span>           <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   <span class="kd">func</span> <span class="p">(</span><span class="nx">e</span> <span class="nx">Employee</span><span class="p">)</span> <span class="nf">Description</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   	<span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s (%s)&#34;</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">ID</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   <span class="kd">type</span> <span class="nx">Manager</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   	<span class="nx">Employee</span> <span class="c1">// &lt;-- embedded field; it&#39;s only a type !
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   	<span class="nx">Reports</span> <span class="p">[]</span><span class="nx">Employee</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   <span class="nx">m</span> <span class="o">:=</span> <span class="nx">Manager</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">   	<span class="nx">Employee</span><span class="p">:</span> <span class="nx">Employee</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">   		<span class="nx">Name</span><span class="p">:</span>         <span class="s">&#34;Bob Bobson&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   		<span class="nx">ID</span><span class="p">:</span>             <span class="s">&#34;12345&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   	<span class="p">},</span>
</span></span><span class="line"><span class="cl">   	<span class="nx">Reports</span><span class="p">:</span> <span class="p">[]</span><span class="nx">Employee</span><span class="p">{},</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">ID</span><span class="p">)</span>            <span class="c1">// prints 12345
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nf">Description</span><span class="p">())</span> <span class="c1">// prints Bob Bobson (12345)
</span></span></span></code></pre></div><ul>
<li>==Embeddings is NOT inheritance==. You cannot assign a variable of type <code>Manager</code> to a variable of type <code>Employee</code></li>
</ul>
<h3 id="interfaces">Interfaces<a aria-label="Link to this section" class="paige-header-link" href="#interfaces"></a></h3>
<ul>
<li>GO interface are imiplicity
<ul>
<li>Enable both type-safety and decoupling, bridging the functionality in both static and dynamic languages</li>
<li> In GO, a type implements the interface IF it has all the method set defined in an interface.
<ul>
<li>IMOW: ==GO interface sounds like duck typing for static languages.==</li>
</ul>
</li>
</ul>
</li>
<li>A struct implements an interface if every method in struct
<ul>
<li>function name is same</li>
<li>same number of input parameters</li>
<li>each input parameter. has the same type</li>
<li>but the input parameter name can be different</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">Somether</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nf">Method</span><span class="p">(</span><span class="nx">x</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">bool</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">MyType</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="kd">func</span> <span class="p">(</span><span class="nx">mt</span> <span class="nx">MyType</span><span class="p">)</span> <span class="nf">Method</span><span class="p">(</span><span class="nx">y</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">val</span> <span class="o">:=</span> <span class="nf">MyType</span><span class="p">(</span><span class="s">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="kd">var</span> <span class="nx">i</span> <span class="kd">interface</span><span class="p">{}</span> <span class="p">=</span> <span class="nx">val</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">		<span class="nx">v</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">i</span><span class="p">.(</span><span class="nx">Somether</span><span class="p">)</span> <span class="c1">// chech if val is of the type Somether interface. We can also use a interface case switch statement below
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">v</span><span class="p">,</span> <span class="s">&#34;,&#34;</span><span class="p">,</span> <span class="nx">ok</span><span class="p">)</span> <span class="c1">//ok = true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">}</span>
</span></span></code></pre></div><ul>
<li>
<h2 id="how-to-check-value-implements-interfacehttpsstackoverflowcomquestions27803654explanation-of-checking-if-value-implements-interface"><a href="https://stackoverflow.com/questions/27803654/explanation-of-checking-if-value-implements-interface">how to check value implements interface</a><a aria-label="Link to this section" class="paige-header-link" href="#how-to-check-value-implements-interfacehttpsstackoverflowcomquestions27803654explanation-of-checking-if-value-implements-interface"></a></h2>
</li>
<li>
<p>Dynamic langauges do not have interfaces; they use duck typing</p>
<ul>
<li>The concept is that you can pass an instance of a type as a parameter to a function as long as the function can find a method to invoke that it expects:</li>
</ul>
</li>
<li>
<p>Turns out both the static and dynamic camps have valid points</p>
<ul>
<li>static (java): interface makes code more readable bc the interface defines all the expected functionality</li>
<li>dynamic camp (python): it&rsquo;s easier to refactor the implementations</li>
<li>`If your application is going to grow and change over time, you need flexibility to change implementation. However, in order for people to understand what your code is doing (as new people work on the same code over time), you also need to specify what the code depends on.</li>
</ul>
</li>
<li>
<p>Ex1:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">LogicProvider</span> <span class="kd">struct</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">func</span> <span class="p">(</span><span class="nx">lp</span> <span class="nx">LogicProvider</span><span class="p">)</span> <span class="nf">Process</span><span class="p">(</span><span class="nx">data</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="c1">// business logic
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">Logic</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="nf">Process</span><span class="p">(</span><span class="nx">data</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">Client</span> <span class="kd">struct</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">L</span> <span class="nx">Logic</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="nx">Client</span><span class="p">)</span> <span class="nf">Program</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="c1">// get data from somewhere
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	    <span class="nx">c</span><span class="p">.</span><span class="nx">L</span><span class="p">.</span><span class="nf">Process</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">c</span> <span class="o">:=</span> <span class="nx">Client</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	        <span class="nx">L</span><span class="p">:</span> <span class="nx">LogicProvider</span><span class="p">{},</span>
</span></span><span class="line"><span class="cl">	    <span class="p">}</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">c</span><span class="p">.</span><span class="nf">Program</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span></code></pre></div><p>`</p>
<ul>
<li>Ex2: interace can embed other interfaces</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">Reader</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	        <span class="nf">Read</span><span class="p">(</span><span class="nx">p</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">Closer</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	        <span class="nf">Close</span><span class="p">()</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">ReadCloser</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	        <span class="nx">Reader</span>
</span></span><span class="line"><span class="cl">	        <span class="nx">Closer</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span></code></pre></div><ul>
<li>Best practices
<ul>
<li>Code conventions: interface names end in ER</li>
<li>==Code should accept interfaces and return structs==</li>
</ul>
</li>
</ul>
<h3 id="type-assertion-and-type-switches">Type assertion and Type Switches<a aria-label="Link to this section" class="paige-header-link" href="#type-assertion-and-type-switches"></a></h3>
<ul>
<li>2 ways to check if a variable is of an interface type</li>
<li>Method 1: Via OK idiom</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">MyInt</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">i</span> <span class="kd">interface</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">mine</span> <span class="nx">MyInt</span> <span class="p">=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">    <span class="nx">i</span> <span class="p">=</span> <span class="nx">mine</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">i2</span><span class="p">,</span> <span class="nx">ok</span> <span class="p">:</span> <span class="p">=</span> <span class="nx">i</span><span class="p">.(</span><span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">!</span><span class="nx">ok</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</span></span></code></pre></div><ul>
<li>Method 2: type switch</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">func</span> <span class="nf">doThings</span><span class="p">(</span><span class="nx">i</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="k">switch</span> <span class="nx">j</span> <span class="o">:=</span> <span class="nx">i</span><span class="p">.(</span><span class="kd">type</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="k">case</span> <span class="kc">nil</span><span class="p">:</span>    <span class="c1">// i is nil, type of j is interface{}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	    <span class="k">case</span> <span class="kt">int</span><span class="p">:</span>    <span class="c1">// j is of type int
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	    <span class="k">case</span> <span class="nx">MyInt</span><span class="p">:</span>  <span class="c1">// j is of type MyInt
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	    <span class="k">case</span> <span class="kt">string</span><span class="p">:</span> <span class="c1">// j is a string
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	    <span class="k">case</span> <span class="kt">bool</span><span class="p">,</span> <span class="kt">rune</span><span class="p">:</span> <span class="c1">// i is either a bool or rune, so j is of type interface{}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	    <span class="k">default</span><span class="p">:</span> <span class="c1">// no idea what i is, so j is of type interface{}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	    <span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span></code></pre></div><h3 id="dependency-injection-via-implicit-interfaces">Dependency Injection Via Implicit Interfaces<a aria-label="Link to this section" class="paige-header-link" href="#dependency-injection-via-implicit-interfaces"></a></h3>
<ul>
<li>dependency injection pattern helps decouple
<ul>
<li>functionality of objects</li>
<li>constructor of those objects</li>
<li>to help application change with time</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// -----------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1">// Driver code
</span></span></span><span class="line"><span class="cl"><span class="c1">// -----------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">l</span> <span class="o">:=</span> <span class="nf">LoggerAdapter</span><span class="p">(</span><span class="nx">LogOutput</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ds</span> <span class="o">:=</span> <span class="nf">NewSimpleDataStore</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">logic</span> <span class="o">:=</span> <span class="nf">NewSimpleLogic</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span> <span class="nx">ds</span><span class="p">)</span> <span class="c1">//New* are factory methods
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">c</span> <span class="o">:=</span> <span class="nf">NewController</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span> <span class="nx">logic</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">http</span><span class="p">.</span><span class="nf">HandleFunc</span><span class="p">(</span><span class="s">&#34;/hello&#34;</span><span class="p">,</span> <span class="nx">c</span><span class="p">.</span><span class="nx">SayHello</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">http</span><span class="p">.</span><span class="nf">ListenAndServe</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// -----------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1">// Log related
</span></span></span><span class="line"><span class="cl"><span class="c1">// -----------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">LogOutput</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Logger</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Log</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// adapter adapts the LogOutput function to the Logger interface
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">LoggerAdapter</span> <span class="kd">func</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">lg</span> <span class="nx">LoggerAdapter</span><span class="p">)</span> <span class="nf">Log</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//NOTE: LoggerAdapter implements the Logger interface bc it contains all the methods in the Logger interface; method&#39;s input parameter has the same type
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">lg</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="c1">// calls the func in type LoggerAdapter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1">// Datastore
</span></span></span><span class="line"><span class="cl"><span class="c1">// ------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">SimpleDataStore</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">userData</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">sds</span> <span class="nx">SimpleDataStore</span><span class="p">)</span> <span class="nf">UserNameForID</span><span class="p">(</span><span class="nx">userID</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="kt">string</span><span class="p">,</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">sds</span><span class="p">.</span><span class="nx">userData</span><span class="p">[</span><span class="nx">userID</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">ok</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Factory method
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">NewSimpleDataStore</span><span class="p">()</span> <span class="nx">SimpleDataStore</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">SimpleDataStore</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">userData</span><span class="p">:</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s">&#34;1&#34;</span><span class="p">:</span> <span class="s">&#34;Fred&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s">&#34;2&#34;</span><span class="p">:</span> <span class="s">&#34;Mary&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s">&#34;3&#34;</span><span class="p">:</span> <span class="s">&#34;Pat&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// interface
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">DataStore</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">UserNameForID</span><span class="p">(</span><span class="nx">userID</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="kt">string</span><span class="p">,</span> <span class="kt">bool</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1">// LOGIC
</span></span></span><span class="line"><span class="cl"><span class="c1">// ------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">SimpleLogic</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">l</span>  <span class="nx">Logger</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ds</span> <span class="nx">DataStore</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">sl</span> <span class="nx">SimpleLogic</span><span class="p">)</span> <span class="nf">SayHello</span><span class="p">(</span><span class="nx">userID</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="kt">string</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sl</span><span class="p">.</span><span class="nx">l</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">&#34;in SayHello for &#34;</span> <span class="o">+</span> <span class="nx">userID</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nx">ds</span><span class="p">.</span><span class="nf">UserNameForID</span><span class="p">(</span><span class="nx">userID</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">!</span><span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;unknown user&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s">&#34;Hello, &#34;</span> <span class="o">+</span> <span class="nx">name</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">sl</span> <span class="nx">SimpleLogic</span><span class="p">)</span> <span class="nf">SayGoodbye</span><span class="p">(</span><span class="nx">userID</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="kt">string</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sl</span><span class="p">.</span><span class="nx">l</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">&#34;in SayGoodbye for &#34;</span> <span class="o">+</span> <span class="nx">userID</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nx">ds</span><span class="p">.</span><span class="nf">UserNameForID</span><span class="p">(</span><span class="nx">userID</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">!</span><span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;unknown user&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s">&#34;Goodbye, &#34;</span> <span class="o">+</span> <span class="nx">name</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//factory method for logic
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">NewSimpleLogic</span><span class="p">(</span><span class="nx">l</span> <span class="nx">Logger</span><span class="p">,</span> <span class="nx">ds</span> <span class="nx">DataStore</span><span class="p">)</span> <span class="nx">SimpleLogic</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">SimpleLogic</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">l</span><span class="p">:</span>    <span class="nx">l</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ds</span><span class="p">:</span> <span class="nx">ds</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//interface
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Logic</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">SayHello</span><span class="p">(</span><span class="nx">userID</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="kt">string</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1">// Controller
</span></span></span><span class="line"><span class="cl"><span class="c1">// ------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Controller</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">l</span>     <span class="nx">Logger</span>
</span></span><span class="line"><span class="cl">    <span class="nx">logic</span> <span class="nx">Logic</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="nx">Controller</span><span class="p">)</span> <span class="nf">SayHello</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">c</span><span class="p">.</span><span class="nx">l</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">&#34;In SayHello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">userID</span> <span class="o">:=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nf">Query</span><span class="p">().</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;user_id&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">message</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">logic</span><span class="p">.</span><span class="nf">SayHello</span><span class="p">(</span><span class="nx">userID</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">w</span><span class="p">.</span><span class="nf">WriteHeader</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">StatusBadRequest</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">w</span><span class="p">.</span><span class="nf">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">()))</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">w</span><span class="p">.</span><span class="nf">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">message</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//Interface
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">NewController</span><span class="p">(</span><span class="nx">l</span> <span class="nx">Logger</span><span class="p">,</span> <span class="nx">logic</span> <span class="nx">Logic</span><span class="p">)</span> <span class="nx">Controller</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">Controller</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">l</span><span class="p">:</span>     <span class="nx">l</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">logic</span><span class="p">:</span> <span class="nx">logic</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h1 id="8-errors">8 Errors<a aria-label="Link to this section" class="paige-header-link" href="#8-errors"></a></h1>
<ul>
<li>GO does not have exception handling
<ul>
<li>Go handles errors by returning a value of type error as the last return value for a function</li>
<li>when a function executes as expected, nil is returned for the error parameter. If something goes wrong, an error value is returned instead</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">calcRemainderAndMod</span><span class="p">(</span><span class="nx">numerator</span><span class="p">,</span> <span class="nx">denominator</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">denominator</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;denominator is 0&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">numerator</span> <span class="o">/</span> <span class="nx">denominator</span><span class="p">,</span> <span class="nx">numerator</span> <span class="o">%</span> <span class="nx">denominator</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">numerator</span> <span class="o">:=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">    <span class="nx">denominator</span> <span class="o">:=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl">    <span class="nx">remainder</span><span class="p">,</span> <span class="nx">mod</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nf">calcRemainderAndMod</span><span class="p">(</span><span class="nx">numerator</span><span class="p">,</span> <span class="nx">denominator</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">remainder</span><span class="p">,</span> <span class="nx">mod</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><ul>
<li>error is an interface</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="kt">error</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Error</span><span class="p">()</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="sentinel-errors">Sentinel Errors<a aria-label="Link to this section" class="paige-header-link" href="#sentinel-errors"></a></h3>
<h3 id="error-are-values">Error are Values<a aria-label="Link to this section" class="paige-header-link" href="#error-are-values"></a></h3>
<h3 id="wrapping-errors">Wrapping Errors<a aria-label="Link to this section" class="paige-header-link" href="#wrapping-errors"></a></h3>
<h3 id="panic---defer---recover">Panic -&gt; Defer -&gt; Recover<a aria-label="Link to this section" class="paige-header-link" href="#panic---defer---recover"></a></h3>
<ul>
<li>Go generates a panic whenever there is a situation where the Go runtime is unable to figure out what should happen next</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">DoSomeThings</span><span class="p">(</span><span class="nx">val1</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">val2</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">_</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">defer</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">err</span> <span class="p">=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;in DoSomeThings: %w&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">val3</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nf">doThing1</span><span class="p">(</span><span class="nx">val1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">val4</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nf">doThing2</span><span class="p">(</span><span class="nx">val2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nf">doThing3</span><span class="p">(</span><span class="nx">val3</span><span class="p">,</span> <span class="nx">val4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><ul>
<li>When panic happens, the current function exits immediately and any defers attached to the current function start running.
<ul>
<li>panic generates the stack trace</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">func</span> <span class="nf">doPanic</span><span class="p">(</span><span class="nx">msg</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="nb">panic</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="nf">doPanic</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="nx">panic</span><span class="p">:</span> <span class="o">/</span><span class="nx">tmpfs</span><span class="o">/</span><span class="nx">play</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="nx">goroutine</span> <span class="mi">1</span> <span class="p">[</span><span class="nx">running</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">	<span class="nx">main</span><span class="p">.</span><span class="nf">doPanic</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="o">/</span><span class="nx">tmp</span><span class="o">/</span><span class="nx">sandbox567884271</span><span class="o">/</span><span class="nx">prog</span><span class="p">.</span><span class="k">go</span><span class="p">:</span><span class="mi">6</span>
</span></span><span class="line"><span class="cl">	<span class="nx">main</span><span class="p">.</span><span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	    <span class="o">/</span><span class="nx">tmp</span><span class="o">/</span><span class="nx">sandbox567884271</span><span class="o">/</span><span class="nx">prog</span><span class="p">.</span><span class="k">go</span><span class="p">:</span><span class="mi">10</span> <span class="o">+</span><span class="mh">0x5f</span>
</span></span></code></pre></div><ul>
<li>recover can be called from the defer function</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kd">func</span> <span class="nf">div60</span><span class="p">(</span><span class="nx">i</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="k">defer</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	        <span class="k">if</span> <span class="nx">v</span> <span class="o">:=</span> <span class="nb">recover</span><span class="p">();</span> <span class="nx">v</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	        <span class="p">}</span>
</span></span><span class="line"><span class="cl">	    <span class="p">}()</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="mi">60</span> <span class="o">/</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">val</span> <span class="o">:=</span> <span class="k">range</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">}</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	        <span class="nf">div60</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span></code></pre></div><h1 id="9-modules-packages-and-imports">9 Modules, Packages, and Imports<a aria-label="Link to this section" class="paige-header-link" href="#9-modules-packages-and-imports"></a></h1>
<h3 id="repositories-modules-and-packages">Repositories, Modules and Packages<a aria-label="Link to this section" class="paige-header-link" href="#repositories-modules-and-packages"></a></h3>
<ul>
<li>repository:  a version control system where source code for a project is stored</li>
<li>Module: the root of a Go library or application stored in a repository
<ul>
<li>==modules = P packages==</li>
</ul>
</li>
<li>Packages have paths, so we can use code outside of the module
<ul>
<li>path: use to access the module;
<ul>
<li>GO: github.com/jonbodner/proteus</li>
<li>JAVA: com.companyname.projectname.library</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="gomod">go.mod<a aria-label="Link to this section" class="paige-header-link" href="#gomod"></a></h3>
<ul>
<li>Source code becomes a module when it has a go.mod.
<ul>
<li><code>cmd: </code>go mod init<code> _</code>MODULE_PATH<code>_</code></li>
<li>looks like a setup.py in python</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">	module github.com/learning-go-book/money
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	go 1.15
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	require (
</span></span><span class="line"><span class="cl">	    github.com/learning-go-book/formatter v0.0.0-20200921021027-5abc380940ae
</span></span><span class="line"><span class="cl">	    github.com/shopspring/decimal v1.2.0
</span></span><span class="line"><span class="cl">	)
</span></span></code></pre></div><h3 id="building-packages">Building Packages<a aria-label="Link to this section" class="paige-header-link" href="#building-packages"></a></h3>
<ul>
<li>Imports and Exports
<ul>
<li><code>import</code> statement allows you to access exported constants, variables, functions, and types in another package</li>
<li><code>import</code>  [packages]
<ul>
<li>Variables with <em>capitalization</em> means it&rsquo;s package-level identifier AND  is visible outside of the package</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="c1">// 1st package print has this package path:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// &#34;github.com/learning-go-book/package_example/formatter&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kn">package</span> <span class="nx">print</span>
</span></span><span class="line"><span class="cl">	<span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="kd">func</span> <span class="nf">Format</span><span class="p">(</span><span class="nx">num</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;The number is %d&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="c1">// 2nd package named main
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">	<span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	    <span class="s">&#34;github.com/learning-go-book/package_example/formatter&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">output</span> <span class="o">:=</span> <span class="nx">print</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">output</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span></code></pre></div><ul>
<li>
<p>How to organize your module</p>
<ul>
<li>When your module is small, keep all of your code in a single package.</li>
<li>If your module consists of one or more applications, create a directory called cmd at the root of your module. Within cmd, create one directory for each binary built from your module</li>
<li>If your module’s root directory contains many files for managing the testing and deployment of your project (such as shell scripts, continuous integration configuration files, or Dockerfiles), place all of your Go code (besides the main packages under cmd) into packages under a directory called pkg
<ul>
<li>Within the pkg directory, organize your code to limit the dependencies between packages. One common pattern is to organize your code by slices of functionality. For example, if you wrote a shopping site in Go, you might place all of the code to support customer management in one package and all of the code to manage inventory in another.</li>
<li><a href="https://www.youtube.com/watch?v=oL6JBUk6tj0">youtube</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Override package name, when packages collide</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">crand</span> <span class="s">&#34;crypto/rand&#34;</span> <span class="c1">// refer crypto/rand as crand
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	    <span class="s">&#34;encoding/binary&#34;</span>
</span></span><span class="line"><span class="cl">	    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	    <span class="s">&#34;math/rand&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">func</span> <span class="nf">seedRand</span><span class="p">()</span> <span class="o">*</span><span class="nx">rand</span><span class="p">.</span><span class="nx">Rand</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="kd">var</span> <span class="nx">b</span> <span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="kt">byte</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">crand</span><span class="p">.</span><span class="nf">Read</span><span class="p">(</span><span class="nx">b</span><span class="p">[:])</span>
</span></span><span class="line"><span class="cl">	    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	        <span class="nb">panic</span><span class="p">(</span><span class="s">&#34;cannot seed with cryptographic random number generator&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">}</span>
</span></span><span class="line"><span class="cl">	    <span class="nx">r</span> <span class="o">:=</span> <span class="nx">rand</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">NewSource</span><span class="p">(</span><span class="nb">int64</span><span class="p">(</span><span class="nx">binary</span><span class="p">.</span><span class="nx">LittleEndian</span><span class="p">.</span><span class="nf">Uint64</span><span class="p">(</span><span class="nx">b</span><span class="p">[:]))))</span>
</span></span><span class="line"><span class="cl">	    <span class="k">return</span> <span class="nx">r</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span></code></pre></div><ul>
<li>
<p>Documentation</p>
<ul>
<li>tools
<ul>
<li><code>golint</code> and <code>golangci-lint</code> can report missing comments on exported identifiers.</li>
<li>go doc
<ul>
<li>The command go doc PACKAGE_NAME displays the package godocs for the specified package and a list of the identifiers in the package. Use go doc PACKAGE_NAME.IDENTIFIER_NAME to display the documentation for a specific identifier in the package.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>==How to share code between packages?  Ans: internal packages==</p>
<ul>
<li>Identifiers in an internal package are visible to that package and its subpackages are only accessible to the direct parent package of <code>internal</code> and the sibling packages of <code>internal</code></li>
<li><a href="https://github.com/learning-go-book/internal_example/blob/master/bar/bar.go">github example</a></li>
<li></li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>	/bar/bar.go
	
	/foo/
		internal/
			internal.go
			deeper/deper.go //can acces internal.go
				
		sibling/
			sibling.go //can access internal.go
</code></pre><ul>
<li>circular dependencies
<ul>
<li>In some cases, this is caused by splitting packages up too finely. If two packages depend on each other, there’s a good chance they should be merged into a single package. We can merge our person and pet packages into a single package and that solves our problem.</li>
<li>If you have a good reason to keep your packages separated, it may be possible to move just the items that cause the circular dependency to one of the two packages or to a new package</li>
</ul>
</li>
</ul>
<h3 id="working-with-modules">Working with Modules<a aria-label="Link to this section" class="paige-header-link" href="#working-with-modules"></a></h3>
<ul>
<li>Import 3rd party modules
<ul>
<li>go.mod requires the 3rd party module</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">		<span class="nx">module</span> <span class="nx">region_tax</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="k">go</span> <span class="mf">1.15</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="nf">require</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">github</span><span class="p">.</span><span class="nx">com</span><span class="o">/</span><span class="nx">learning</span><span class="o">-</span><span class="k">go</span><span class="o">-</span><span class="nx">book</span><span class="o">/</span><span class="nx">simpletax</span> <span class="nx">v1</span><span class="mf">.1.0</span>
</span></span><span class="line"><span class="cl">		    <span class="nx">github</span><span class="p">.</span><span class="nx">com</span><span class="o">/</span><span class="nx">shopspring</span><span class="o">/</span><span class="nx">decimal</span> <span class="nx">v1</span><span class="mf">.2.0</span>
</span></span><span class="line"><span class="cl">		<span class="p">)</span>
</span></span></code></pre></div><pre><code>		- or via terminal: $ go get github.com/learning-go-book/simpletax@v1.0.0
			- this will update the go.mod
</code></pre>
<ul>
<li>
<p>how choose the package version</p>
<ul>
<li>module system uses the principle of <em>minimal version selection</em></li>
</ul>
</li>
<li>
<p>manually controlling which version one wants</p>
<ul>
<li>intial:
<ul>
<li>go get <a href="mailto:github.com/learning-go-book/simpletax@v1.1.0">github.com/learning-go-book/simpletax@v1.1.0</a></li>
</ul>
</li>
<li>upgrade/patch:
<ul>
<li>go get -u=patch github.com/learning-go-book/simpletax</li>
</ul>
</li>
<li>get the latest version
<ul>
<li>go get -u github.com/learning-go-book/simpletax</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="https://github.com/golang/go/wiki/Modules">GO module wiki</a></p>
</li>
</ul>
<h3 id="publishing-your-module">Publishing Your Module<a aria-label="Link to this section" class="paige-header-link" href="#publishing-your-module"></a></h3>
<h3 id="versioning-your-module">Versioning Your Module<a aria-label="Link to this section" class="paige-header-link" href="#versioning-your-module"></a></h3>
<h3 id="module-proxy-server">Module Proxy Server<a aria-label="Link to this section" class="paige-header-link" href="#module-proxy-server"></a></h3>
<h3 id="summary">Summary<a aria-label="Link to this section" class="paige-header-link" href="#summary"></a></h3>
<h1 id="10-concurrency">10 Concurrency<a aria-label="Link to this section" class="paige-header-link" href="#10-concurrency"></a></h1>
<ul>
<li>Concurrency in go is mainly attained through channels and select
<ul>
<li>go also has mutex and atomic</li>
</ul>
</li>
<li>Philosophy:
<ul>
<li>Share memory by communicating; do not communicate by sharing memory.
<ul>
<li>mutex and atomic shares memory</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="11-the-standard-library">11 The Standard Library<a aria-label="Link to this section" class="paige-header-link" href="#11-the-standard-library"></a></h1>
<h1 id="12-the-context">12 The Context<a aria-label="Link to this section" class="paige-header-link" href="#12-the-context"></a></h1>
<h1 id="13-writing-tests">13 Writing Tests<a aria-label="Link to this section" class="paige-header-link" href="#13-writing-tests"></a></h1>
<h1 id="14-reflect-unsafe-and">14 Reflect, Unsafe, and<a aria-label="Link to this section" class="paige-header-link" href="#14-reflect-unsafe-and"></a></h1>
<h1 id="15-appendix">15 Appendix<a aria-label="Link to this section" class="paige-header-link" href="#15-appendix"></a></h1>
<h2 id="151--references">15.1  References<a aria-label="Link to this section" class="paige-header-link" href="#151--references"></a></h2>
<ul>
<li>Go + Torch + Triton
<ul>
<li><a href="https://github.com/miguelvr/trtserver-go">github</a></li>
</ul>
</li>
<li><a href="https://gist.github.com/scottfrazer/094a0f1d048cc3b8deeac4cf29266f62">Akka vs Go concurrency</a></li>
<li>Cross reference to [[Tool - Python - GO]]</li>
</ul>
<h2 id="152-dependencies-and-modules">15.2 Dependencies and modules<a aria-label="Link to this section" class="paige-header-link" href="#152-dependencies-and-modules"></a></h2>
<ul>
<li>
<p><a href="https://www.digitalocean.com/community/tutorials/how-to-use-go-modules">ref</a></p>
</li>
<li>
<p>Terminology</p>
<ul>
<li>
<p>Module:</p>
<ul>
<li>IMOW: a library we create.  Damian&rsquo;s CLI is a module</li>
</ul>
</li>
<li>
<p>Package</p>
<ul>
<li>subdirectories inside a module</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Go files can refer to local  or remote modules</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Go" data-lang="Go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Remote module; we can specify see below for different variabts: git tag, branch nrame, etc..
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s">&#34;github.com/spf13/cobra&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Local current module
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s">&#34;mymodule/mypackage&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">cmd</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">cobra</span><span class="p">.</span><span class="nx">Command</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">Run</span><span class="p">:</span> <span class="kd">func</span><span class="p">(</span><span class="nx">cmd</span> <span class="o">*</span><span class="nx">cobra</span><span class="p">.</span><span class="nx">Command</span><span class="p">,</span> <span class="nx">args</span> <span class="p">[]</span><span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Hello, Modules!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="nx">mypackage</span><span class="p">.</span><span class="nf">PrintHello</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Calling cmd.Execute()!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">cmd</span><span class="p">.</span><span class="nf">Execute</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><ul>
<li>Before you can  import the remote module, one need to &ldquo;go get&rdquo;
<ul>
<li>So which version does one get?
<ul>
<li>default: get latest
<ul>
<li><em>go get github.com/spf13/cobra</em></li>
</ul>
</li>
<li>a specific commit
<ul>
<li><em>go get github.com/spf13/cobra@latest</em></li>
<li>_go get github.com/spf13/cobra@lfeature_branch</li>
<li>go get github.com/spf13/cobra@l[GIT-COMMIT-ID]</li>
<li>go get github.com/spf13/cobra@l[GIT-TAG-ID]</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>When you run a go file, it updates the go.sum with records the hash and version of the dependencies used in the run</p>
</li>
<li>
<p>Flow: Summar</p>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">graph LR;
    module-remote -- cmd: go get .. --&gt; go.mod;
    file.go -- cmd: go run file.go --&gt; go.sum		 
</code></pre></li>
</ul>
</div>


    </div>
</article>




    
    



    



    



    



    



    



    



    



    







                        
                    </main>

                    









    

    


<footer class="mb-3" id="paige-footer">
    

    
        <div class="mb-3" id="paige-prev-next">
            
                <p class="mb-0 text-center text-secondary" id="paige-next">
                    <a class="link-secondary" href="http://localhost:1313/books/software-system/scaling-ml-spark/">Scaling ML Spark</a> &rsaquo;
                </p>
            

            
                <p class="mb-0 text-center text-secondary" id="paige-prev">
                    &lsaquo; <a class="link-secondary" href="http://localhost:1313/books/software-system/learning-algorithms/">Learning Algorithms</a>
                </p>
            
        </div>
    

    

    

    

    
</footer>

                </div>
            </div>
        </div>

        















    
    
    


<script  crossorigin="anonymous"   defer  integrity="sha256-gfPiYYSP&#43;RNtNeRBt45mJombFJmNf0V0Ipu785Obi0M="   referrerpolicy="no-referrer"  src="/js/paige/bootstrap/bootstrap.bundle.min.81f3e261848ff9136d35e441b78e6626899b14998d7f4574229bbbf3939b8b43.js" ></script>



    













    
    
    


<script  crossorigin="anonymous"   defer  integrity="sha256-kqnbKZyzZFmn0J2JtRxwdeNh0b3FknYDyAd&#43;mGKI73c="   referrerpolicy="no-referrer"  src="/js/paige/katex/katex.min.min.92a9db299cb36459a7d09d89b51c7075e361d1bdc5927603c8077e986288ef77.js" ></script>

    













    
    
    


<script  crossorigin="anonymous"   defer  integrity="sha256-pQMCGuz&#43;5jpyog4zEVyH/xvxJRsPM9M7d7t6&#43;TiyEA8="  onload="renderMathInElement(document.body);"   referrerpolicy="no-referrer"  src="/js/paige/katex/auto-render.min.min.a503021aecfee63a72a20e33115c87ff1bf1251b0f33d33b77bb7af938b2100f.js" ></script>






    



    



    



    



    



    



    



    



    



    



    



    



    



    



    





<noscript>JavaScript is required</noscript>


        
    </body>
</html>
