

<!doctype html>






<html  data-paige="Paige theme from https://github.com/willfaught/paige"   lang="en" >

    










    

    

    

    

    

    

    

    

    




<head>
    

    

<meta charset="utf-8">




    <meta content="A collection of software best practices at Google" name="description">




<meta content="#0d6efd" name="msapplication-TileColor">


    <meta content="/browserconfig.xml" name="msapplication-config">


<meta content="https://github.com/willfaught/paige" name="theme">
<meta content="#0d6efd" name="theme-color">
<meta content="width=device-width, initial-scale=1" name="viewport">

<meta property="og:url" content="https://example.com/books/software-profession/software-engineering-at-google/">
  <meta property="og:title" content="Software Engineer At Google">
  <meta property="og:description" content="A collection of software best practices at Google">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="books">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Software Engineer At Google">
  <meta name="twitter:description" content="A collection of software best practices at Google">



    
        <title>Software Engineer At Google · Software Profession ·  · Paige</title>
    

    


    <link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">



    <link href="/favicon.ico" rel="shortcut icon">



    <link href="/favicon.png" rel="icon" type="image/png">



    <link href="/favicon.svg" rel="icon" type="image/svg+xml">



    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">



    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">



    <link color="#0d6efd" href="/safari-pinned-tab.svg" rel="mask-icon">



    <link href="/site.webmanifest" rel="manifest">
























    

    
        
        
        
    

    
        
    

    
    
    


<link  crossorigin="anonymous"  href="/css/paige/bootstrap/6186ad141d391e4c0c10d2e9cb4eaeaadf75e809-paige.min.1c5bb4860fb7f3809f4195b145668aade87f2e92cf701992599678b1d166f0f0.css"  integrity="sha256-HFu0hg&#43;384CfQZWxRWaKreh/LpLPcBmSWZZ4sdFm8PA="   referrerpolicy="no-referrer"  rel="stylesheet">



















    

    

    

    
    
    


<link  crossorigin="anonymous"  href="/css/paige/bootstrap-icons/bootstrap-icons.min.540116b7267d4b2410c74086ae6497566928c6d5715900be7ce7279ad45addcd.css"  integrity="sha256-VAEWtyZ9SyQQx0CGrmSXVmkoxtVxWQC&#43;fOcnmtRa3c0="   referrerpolicy="no-referrer"  rel="stylesheet">



    

















    

    

    

    
    
    


<link  crossorigin="anonymous"  href="/css/paige/katex/katex.min.min.c12d9cca9aa0af743d947ef8c8f5fabaad13e5b4c9fed061fbdf7c9d3c387581.css"  integrity="sha256-wS2cypqgr3Q9lH74yPX6uq0T5bTJ/tBh&#43;998nTw4dYE="   referrerpolicy="no-referrer"  rel="stylesheet">





    

<style>


.paige-figure-numbered {
    counter-increment: paige-figure-numbered;
}

.paige-figure-numbered > div > figure > figcaption::before {
    content: "Figure " counter(paige-figure-numbered) ": ";
}

.paige-figure-numbered > div > figure > figcaption:empty::before {
    content: "Figure " counter(paige-figure-numbered);
}

.paige-header-link {
    opacity: 0;
    margin-left: 0.5rem;
    position: absolute;
    transition: color 0.15s ease-in-out, opacity 0.15s ease-in-out;
}

.paige-header-link::after {
    content: "#";
}

.paige-quote .blockquote-footer {
    margin-top: 0;
}

.paige-quote blockquote {
    border-left: 0;
    border-right: 0;
    margin-bottom: 0;
    padding: 0;
}

#paige-content > * {
    margin-bottom: 1rem;
}

blockquote {
    padding: 0.5rem 1rem;
    border-left: 0.25rem solid var(--bs-border-color);
    border-right: 0.25rem solid var(--bs-body-bg);
}

td, th {
    padding: 0.25rem;
}

.highlight .chroma .hl,
.highlight .chroma .lnt {
    display: flex;
}

.paige-figure .paige-quote,
.paige-figure .paige-video,
.paige-figure .highlight pre.chroma,
.paige-figure .highlight .chroma pre,
.paige-figure .paige-quote blockquote,
.paige-figure figure > div > :last-child,
.paige-gallery .paige-figure,
.paige-gallery .paige-image,
blockquote > p:last-of-type {
    margin-bottom: 0;
}

.paige-figure,
.paige-gallery,
.paige-image,
.paige-quote,
.paige-video,
table {
    margin-bottom: 1rem;
}

.paige-header-link:focus,
.paige-header-link:hover,
:hover > .paige-header-link,
:target > .paige-header-link {
    opacity: 1;
}




    @media (prefers-color-scheme: dark) {
        /* Background */ .bg { color: #c9d1d9; background-color: var(--bs-body-bg); }
/* PreWrapper */ .chroma { color: #c9d1d9; background-color: var(--bs-body-bg); }
/* Other */ .chroma .x {  }
/* Error */ .chroma .err { color: #f85149 }
/* CodeLine */ .chroma .cl {  }
/* LineLink */ .chroma .lnlinks { outline: none; text-decoration: none; color: inherit }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; }
/* LineHighlight */ .chroma .hl { background-color: #4f4f4d }
/* LineNumbersTable */ .chroma .lnt { white-space: pre; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #64686c }
/* LineNumbers */ .chroma .ln { white-space: pre; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #6e7681 }
/* Line */ .chroma .line { display: flex; }
/* Keyword */ .chroma .k { color: #ff7b72 }
/* KeywordConstant */ .chroma .kc { color: #79c0ff }
/* KeywordDeclaration */ .chroma .kd { color: #ff7b72 }
/* KeywordNamespace */ .chroma .kn { color: #ff7b72 }
/* KeywordPseudo */ .chroma .kp { color: #79c0ff }
/* KeywordReserved */ .chroma .kr { color: #ff7b72 }
/* KeywordType */ .chroma .kt { color: #ff7b72 }
/* Name */ .chroma .n {  }
/* NameAttribute */ .chroma .na {  }
/* NameBuiltin */ .chroma .nb {  }
/* NameBuiltinPseudo */ .chroma .bp {  }
/* NameClass */ .chroma .nc { color: #f0883e; font-weight: bold }
/* NameConstant */ .chroma .no { color: #79c0ff; font-weight: bold }
/* NameDecorator */ .chroma .nd { color: #d2a8ff; font-weight: bold }
/* NameEntity */ .chroma .ni { color: #ffa657 }
/* NameException */ .chroma .ne { color: #f0883e; font-weight: bold }
/* NameFunction */ .chroma .nf { color: #d2a8ff; font-weight: bold }
/* NameFunctionMagic */ .chroma .fm {  }
/* NameLabel */ .chroma .nl { color: #79c0ff; font-weight: bold }
/* NameNamespace */ .chroma .nn { color: #ff7b72 }
/* NameOther */ .chroma .nx {  }
/* NameProperty */ .chroma .py { color: #79c0ff }
/* NameTag */ .chroma .nt { color: #7ee787 }
/* NameVariable */ .chroma .nv { color: #79c0ff }
/* NameVariableClass */ .chroma .vc {  }
/* NameVariableGlobal */ .chroma .vg {  }
/* NameVariableInstance */ .chroma .vi {  }
/* NameVariableMagic */ .chroma .vm {  }
/* Literal */ .chroma .l { color: #a5d6ff }
/* LiteralDate */ .chroma .ld { color: #79c0ff }
/* LiteralString */ .chroma .s { color: #a5d6ff }
/* LiteralStringAffix */ .chroma .sa { color: #79c0ff }
/* LiteralStringBacktick */ .chroma .sb { color: #a5d6ff }
/* LiteralStringChar */ .chroma .sc { color: #a5d6ff }
/* LiteralStringDelimiter */ .chroma .dl { color: #79c0ff }
/* LiteralStringDoc */ .chroma .sd { color: #a5d6ff }
/* LiteralStringDouble */ .chroma .s2 { color: #a5d6ff }
/* LiteralStringEscape */ .chroma .se { color: #79c0ff }
/* LiteralStringHeredoc */ .chroma .sh { color: #79c0ff }
/* LiteralStringInterpol */ .chroma .si { color: #a5d6ff }
/* LiteralStringOther */ .chroma .sx { color: #a5d6ff }
/* LiteralStringRegex */ .chroma .sr { color: #79c0ff }
/* LiteralStringSingle */ .chroma .s1 { color: #a5d6ff }
/* LiteralStringSymbol */ .chroma .ss { color: #a5d6ff }
/* LiteralNumber */ .chroma .m { color: #a5d6ff }
/* LiteralNumberBin */ .chroma .mb { color: #a5d6ff }
/* LiteralNumberFloat */ .chroma .mf { color: #a5d6ff }
/* LiteralNumberHex */ .chroma .mh { color: #a5d6ff }
/* LiteralNumberInteger */ .chroma .mi { color: #a5d6ff }
/* LiteralNumberIntegerLong */ .chroma .il { color: #a5d6ff }
/* LiteralNumberOct */ .chroma .mo { color: #a5d6ff }
/* Operator */ .chroma .o { color: #ff7b72; font-weight: bold }
/* OperatorWord */ .chroma .ow { color: #ff7b72; font-weight: bold }
/* Punctuation */ .chroma .p {  }
/* Comment */ .chroma .c { color: #8b949e; font-style: italic }
/* CommentHashbang */ .chroma .ch { color: #8b949e; font-style: italic }
/* CommentMultiline */ .chroma .cm { color: #8b949e; font-style: italic }
/* CommentSingle */ .chroma .c1 { color: #8b949e; font-style: italic }
/* CommentSpecial */ .chroma .cs { color: #8b949e; font-weight: bold; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #8b949e; font-weight: bold; font-style: italic }
/* CommentPreprocFile */ .chroma .cpf { color: #8b949e; font-weight: bold; font-style: italic }
/* Generic */ .chroma .g {  }
/* GenericDeleted */ .chroma .gd { color: #ffa198; background-color: #490202 }
/* GenericEmph */ .chroma .ge { font-style: italic }
/* GenericError */ .chroma .gr { color: #ffa198 }
/* GenericHeading */ .chroma .gh { color: #79c0ff; font-weight: bold }
/* GenericInserted */ .chroma .gi { color: #56d364; background-color: #0f5323 }
/* GenericOutput */ .chroma .go { color: #8b949e }
/* GenericPrompt */ .chroma .gp { color: #8b949e }
/* GenericStrong */ .chroma .gs { font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #79c0ff }
/* GenericTraceback */ .chroma .gt { color: #ff7b72 }
/* GenericUnderline */ .chroma .gl { text-decoration: underline }
/* TextWhitespace */ .chroma .w { color: #6e7681 }

    }

    @media (prefers-color-scheme: light) {
        /* Background */ .bg { background-color: #ffffff; }
/* PreWrapper */ .chroma { background-color: #ffffff; }
/* Other */ .chroma .x {  }
/* Error */ .chroma .err { color: #a61717; background-color: #e3d2d2 }
/* CodeLine */ .chroma .cl {  }
/* LineLink */ .chroma .lnlinks { outline: none; text-decoration: none; color: inherit }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; }
/* LineHighlight */ .chroma .hl { background-color: #ffffcc }
/* LineNumbersTable */ .chroma .lnt { white-space: pre; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
/* LineNumbers */ .chroma .ln { white-space: pre; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
/* Line */ .chroma .line { display: flex; }
/* Keyword */ .chroma .k { color: #000000; font-weight: bold }
/* KeywordConstant */ .chroma .kc { color: #000000; font-weight: bold }
/* KeywordDeclaration */ .chroma .kd { color: #000000; font-weight: bold }
/* KeywordNamespace */ .chroma .kn { color: #000000; font-weight: bold }
/* KeywordPseudo */ .chroma .kp { color: #000000; font-weight: bold }
/* KeywordReserved */ .chroma .kr { color: #000000; font-weight: bold }
/* KeywordType */ .chroma .kt { color: #445588; font-weight: bold }
/* Name */ .chroma .n {  }
/* NameAttribute */ .chroma .na { color: #008080 }
/* NameBuiltin */ .chroma .nb { color: #0086b3 }
/* NameBuiltinPseudo */ .chroma .bp { color: #999999 }
/* NameClass */ .chroma .nc { color: #445588; font-weight: bold }
/* NameConstant */ .chroma .no { color: #008080 }
/* NameDecorator */ .chroma .nd { color: #3c5d5d; font-weight: bold }
/* NameEntity */ .chroma .ni { color: #800080 }
/* NameException */ .chroma .ne { color: #990000; font-weight: bold }
/* NameFunction */ .chroma .nf { color: #990000; font-weight: bold }
/* NameFunctionMagic */ .chroma .fm {  }
/* NameLabel */ .chroma .nl { color: #990000; font-weight: bold }
/* NameNamespace */ .chroma .nn { color: #555555 }
/* NameOther */ .chroma .nx {  }
/* NameProperty */ .chroma .py {  }
/* NameTag */ .chroma .nt { color: #000080 }
/* NameVariable */ .chroma .nv { color: #008080 }
/* NameVariableClass */ .chroma .vc { color: #008080 }
/* NameVariableGlobal */ .chroma .vg { color: #008080 }
/* NameVariableInstance */ .chroma .vi { color: #008080 }
/* NameVariableMagic */ .chroma .vm {  }
/* Literal */ .chroma .l {  }
/* LiteralDate */ .chroma .ld {  }
/* LiteralString */ .chroma .s { color: #dd1144 }
/* LiteralStringAffix */ .chroma .sa { color: #dd1144 }
/* LiteralStringBacktick */ .chroma .sb { color: #dd1144 }
/* LiteralStringChar */ .chroma .sc { color: #dd1144 }
/* LiteralStringDelimiter */ .chroma .dl { color: #dd1144 }
/* LiteralStringDoc */ .chroma .sd { color: #dd1144 }
/* LiteralStringDouble */ .chroma .s2 { color: #dd1144 }
/* LiteralStringEscape */ .chroma .se { color: #dd1144 }
/* LiteralStringHeredoc */ .chroma .sh { color: #dd1144 }
/* LiteralStringInterpol */ .chroma .si { color: #dd1144 }
/* LiteralStringOther */ .chroma .sx { color: #dd1144 }
/* LiteralStringRegex */ .chroma .sr { color: #009926 }
/* LiteralStringSingle */ .chroma .s1 { color: #dd1144 }
/* LiteralStringSymbol */ .chroma .ss { color: #990073 }
/* LiteralNumber */ .chroma .m { color: #009999 }
/* LiteralNumberBin */ .chroma .mb { color: #009999 }
/* LiteralNumberFloat */ .chroma .mf { color: #009999 }
/* LiteralNumberHex */ .chroma .mh { color: #009999 }
/* LiteralNumberInteger */ .chroma .mi { color: #009999 }
/* LiteralNumberIntegerLong */ .chroma .il { color: #009999 }
/* LiteralNumberOct */ .chroma .mo { color: #009999 }
/* Operator */ .chroma .o { color: #000000; font-weight: bold }
/* OperatorWord */ .chroma .ow { color: #000000; font-weight: bold }
/* Punctuation */ .chroma .p {  }
/* Comment */ .chroma .c { color: #999988; font-style: italic }
/* CommentHashbang */ .chroma .ch { color: #999988; font-style: italic }
/* CommentMultiline */ .chroma .cm { color: #999988; font-style: italic }
/* CommentSingle */ .chroma .c1 { color: #999988; font-style: italic }
/* CommentSpecial */ .chroma .cs { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreprocFile */ .chroma .cpf { color: #999999; font-weight: bold; font-style: italic }
/* Generic */ .chroma .g {  }
/* GenericDeleted */ .chroma .gd { color: #000000; background-color: #ffdddd }
/* GenericEmph */ .chroma .ge { color: #000000; font-style: italic }
/* GenericError */ .chroma .gr { color: #aa0000 }
/* GenericHeading */ .chroma .gh { color: #999999 }
/* GenericInserted */ .chroma .gi { color: #000000; background-color: #ddffdd }
/* GenericOutput */ .chroma .go { color: #888888 }
/* GenericPrompt */ .chroma .gp { color: #555555 }
/* GenericStrong */ .chroma .gs { font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa }
/* GenericTraceback */ .chroma .gt { color: #aa0000 }
/* GenericUnderline */ .chroma .gl { text-decoration: underline }
/* TextWhitespace */ .chroma .w { color: #bbbbbb }

    }


@media (prefers-reduced-motion: reduce) {
    .paige-header-link {
        transition: none;
    }
}




</style>


    
</head>

    <body class="d-flex flex-column">

        

        <div class="container flex-fill" id="paige-root">
            <div class="row">
                <div class="col">
                    
                    


    <header class="my-3" id="paige-header">
        

        




        








    





    



    <nav>
        <ul class="align-items-center justify-content-center nav ">
            
                
                
                
                
                

                <li class="nav-item ">
                    <a   class="  nav-link   text-decoration-underline "  href="/"    >Home</a>

                    
                </li>
            
                
                
                
                
                

                <li class="nav-item ">
                    <a  aria-current="page"   class=" active  text-body-emphasis    nav-link   text-decoration-underline "  href="/books/"    >Books</a>

                    
                </li>
            
                
                
                
                
                

                <li class="nav-item ">
                    <a   class="  nav-link   text-decoration-underline "  href="/blogs/"    >Blogs</a>

                    
                </li>
            
                
                
                
                
                

                <li class="nav-item ">
                    <a   class="  nav-link   text-decoration-underline "  href="/resume/"    >Resume</a>

                    
                </li>
            
                
                
                
                
                

                <li class="nav-item ">
                    <a   class="  nav-link   text-decoration-underline "  href="/github/"    >Github</a>

                    
                </li>
            
                
                
                
                
                

                <li class="nav-item ">
                    <a   class="  nav-link   text-decoration-underline "  href="/search/"    >Search</a>

                    
                </li>
            
        </ul>
    </nav>


        

        
    </header>



                    <main class="mt-3" id="paige-main">
                        

                        



















    



    
        
    




<article  class="paige-published paige-single"  id="paige-article">
    <div class="align-items-center d-flex flex-column mb-0">
        













<div class="mw-100" id="paige-metadata">
    
        <h1 class="fw-bold text-center" id="paige-title">Software Engineer At Google</h1>
    

    
        <p class="lead text-center" id="paige-description">A collection of software best practices at Google</p>
    

    
        <div class="mb-3">
            

            

            

            

            
                <p class="mb-0 text-center text-secondary" id="paige-reading-time">38 minutes</p>
            
        </div>
    
</div>

        



        


    <div class="mw-100" id="paige-toc">
        <div class="border mb-3 pe-3 ps-3 pt-3 rounded">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#1-what-is-software-engineering">1 What is Software Engineering</a>
      <ol>
        <li><a href="#11-time-and-change">1.1 Time and Change</a></li>
        <li><a href="#12-scale-and-efficiency">1.2 Scale and Efficiency</a></li>
        <li><a href="#13-tradeoffs-and-costs">1.3 Tradeoffs and Costs</a></li>
        <li><a href="#14-tldr">1.4 TL;DR</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li><a href="#2-working-well-on-temas">2. Working Well On Temas</a>
      <ol>
        <li><a href="#21-help-me-hide-my-code">2.1 Help Me Hide My Code</a></li>
        <li><a href="#22-the-genius-myth">2.2 The Genius Myth</a></li>
        <li><a href="#23-hiding-considered-harmful">2.3 Hiding Considered Harmful</a></li>
        <li><a href="#24-its-all-about-the-team">2.4 It&rsquo;s All About the Team</a>
          <ol>
            <li><a href="#3-pillars-of-social-interaction">3 Pillars of Social Interaction</a></li>
            <li><a href="#the-3-pillars-in-practice">The 3 Pillars in Practice</a></li>
          </ol>
        </li>
        <li><a href="#blameless-post-mortem">Blameless Post Mortem</a>
          <ol>
            <li><a href="#being-googley">Being Googley</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#3-knowledge-sharing">3 Knowledge Sharing</a>
      <ol>
        <li><a href="#31-challenges-to-learning">3.1 Challenges to Learning</a></li>
        <li><a href="#32-setting-the-stage-psychological-safety">3.2 Setting the Stage: Psychological Safety</a></li>
        <li><a href="#33-growing-your-knowledge">3.3 Growing Your Knowledge</a></li>
        <li><a href="#34-scaling-your-questions-ask-the-community">3.4 Scaling Your Questions: Ask the Community</a></li>
        <li><a href="#35-scaling-your-knowledge-you-always-have-something-to-teach">3.5 Scaling Your Knowledge: You Always Have Something To Teach</a></li>
        <li><a href="#36-scaling-your-organizations-knowledge">3.6 Scaling Your Organization&rsquo;s Knowledge</a></li>
        <li><a href="#37-readability-standardized-mentorship-through--code-reviews">3.7 Readability: Standardized Mentorship Through  Code Reviews</a></li>
      </ol>
    </li>
    <li><a href="#change-list-requires-readbility-approvals">Change list requires readbility approvals</a></li>
    <li><a href="#4-engineering-for-equity">4 Engineering for Equity</a></li>
    <li><a href="#5-how-to-lead-a-team">5 How To Lead a Team</a>
      <ol>
        <li><a href="#51-managers-tl-and-tech-lead-manager">5.1 Managers, TL, and Tech Lead Manager</a></li>
        <li><a href="#52-moving-from-ic-to-leadership-role">5.2 Moving from IC to Leadership Role</a></li>
        <li><a href="#53-the-engineering-manager">5.3 The Engineering Manager</a></li>
        <li><a href="#54-anti-patterns">5.4 Anti-patterns</a></li>
        <li><a href="#55-positive-patterns">5.5 Positive Patterns</a></li>
        <li><a href="#56-the-unexpected-questions">5.6 The Unexpected Questions</a></li>
        <li><a href="#57-other-tips-and-tricks">5.7 Other Tips and Tricks</a></li>
        <li><a href="#58-people-are-like-plants">5.8 People are Like Plants</a></li>
        <li><a href="#59-conclusion">5.9 Conclusion</a></li>
      </ol>
    </li>
    <li><a href="#6-leading-at-scale">6 Leading At Scale</a>
      <ol>
        <li><a href="#61-always-be-deciding">6.1 Always Be Deciding</a></li>
        <li><a href="#62-always-be-leaving">6.2 Always Be Leaving</a></li>
        <li><a href="#63-always-be-scaling">6.3 Always Be Scaling</a></li>
        <li><a href="#64-conclusion">6.4 Conclusion</a></li>
      </ol>
    </li>
    <li><a href="#7-measuring-engineering">7 Measuring Engineering</a>
      <ol>
        <li><a href="#71-whats-goal">7.1 What&rsquo;s Goal?</a></li>
        <li><a href="#72-signals">7.2 Signals</a></li>
        <li><a href="#73-metrics">7.3 Metrics</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li><a href="#8-style-guides-and-rules">8 Style Guides and Rules</a></li>
    <li><a href="#9-code-review">9 Code Review</a></li>
    <li><a href="#10-documentation">10 Documentation</a></li>
    <li><a href="#11-testing-overview">11 Testing Overview</a></li>
    <li><a href="#12-unit-testing">12 Unit Testing</a>
      <ol>
        <li><a href="#121-importance-of-maintainability">12.1 Importance of Maintainability</a></li>
        <li><a href="#122-preventing-brittle-tests">12.2 Preventing Brittle Tests</a></li>
        <li><a href="#123-writing-clear-tests">12.3 Writing Clear Tests</a></li>
        <li><a href="#124-test-and-code-sharing-damp-not-dry">12.4 Test and Code Sharing: DAMP, not DRY</a></li>
        <li><a href="#125-conclusion">12.5 Conclusion</a></li>
      </ol>
    </li>
    <li><a href="#13-testing-doubles">13 Testing Doubles</a></li>
    <li><a href="#14-larger-testing">14 Larger Testing</a></li>
    <li><a href="#15-deprecation">15 Deprecation</a></li>
  </ol>

  <ol>
    <li><a href="#16-version-control-and-branch-management">16 Version Control and Branch Management</a></li>
    <li><a href="#17-code-search">17 Code Search</a></li>
    <li><a href="#18-build-system-and-build-philosophy">18 Build System and Build Philosophy</a>
      <ol>
        <li><a href="#181-purpose-of-build-systems">18.1 Purpose of Build Systems</a></li>
        <li><a href="#182-what-happens-if-no-build-system">18.2 What happens if no build System</a></li>
        <li><a href="#183-moden-build-systems">18.3 Moden Build Systems</a></li>
      </ol>
    </li>
    <li><a href="#19-critique-google-code-review-tools">19: Critique: Google Code Review Tools</a></li>
    <li><a href="#20-static-analysis">20 Static Analysis</a></li>
    <li><a href="#21-dependency-management">21 Dependency Management</a>
      <ol>
        <li><a href="#211-why-dependency-management-is-so-difficult">21.1 Why Dependency Management Is So Difficult</a></li>
        <li><a href="#212-importing-dependencies">21.2 Importing Dependencies</a></li>
        <li><a href="#213-dependency-management-in-theory">21.3 Dependency Management, In Theory</a></li>
        <li><a href="#214-limitations-of-semver">21.4 Limitations of SemVer</a></li>
        <li><a href="#215-dependency-with-infinit-resources">21.5 Dependency with Infinit Resources</a></li>
        <li><a href="#216-conclusoin">21.6 Conclusoin</a></li>
      </ol>
    </li>
    <li><a href="#22-large-scale-changes">22 Large Scale Changes</a></li>
    <li><a href="#23-continuous-integration">23 Continuous Integration</a></li>
    <li><a href="#24-continuous-delivery">24 Continuous Delivery</a></li>
    <li><a href="#25-compute-as-a-service-caas">25 Compute As a Service (CaaS)</a>
      <ol>
        <li><a href="#251-taming-the-compute-environment">25.1 Taming the Compute Environment</a></li>
        <li><a href="#252-writing-software-for-managed-compute">25.2 Writing Software for Managed Compute</a></li>
        <li><a href="#253-caas-over-time-and-scale">25.3 CaaS Over Time and Scale</a></li>
        <li><a href="#254-choosing-a-compute-service">25.4 Choosing a Compute Service</a></li>
        <li><a href="#255-conclusion">25.5 Conclusion</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </div>


        




    <div class="mw-100" id="paige-content"><h2 id="1-what-is-software-engineering">1 What is Software Engineering<a aria-label="Link to this section" class="paige-header-link" href="#1-what-is-software-engineering"></a></h2>
<h3 id="11-time-and-change">1.1 Time and Change<a aria-label="Link to this section" class="paige-header-link" href="#11-time-and-change"></a></h3>
<ul>
<li>Software engineering is programming integrated over time.
<ul>
<li>new features requests, depedency changes, people changes</li>
</ul>
</li>
<li>Engineers need to be more concerned with the passage of time and the eventual need for change</li>
<li>Hyrum&rsquo;s Law</li>
</ul>
<pre tabindex="0"><code>	With a sufficient number of users of an API, it does not matter what you promise in the contract: all observable behaviors of your system will be depended on by somebody.
</code></pre><h3 id="12-scale-and-efficiency">1.2 Scale and Efficiency<a aria-label="Link to this section" class="paige-header-link" href="#12-scale-and-efficiency"></a></h3>
<ul>
<li>we need to be more concerned about scale and efficiency, both for the software we produce as well as for the organization that is producing it</li>
<li>Everything your organization relies upon to produce and maintain code should be scalable in terms of overall cost and resource consumption
<ul>
<li>scalable in terms of human effort</li>
</ul>
</li>
<li>Policies that do not scale well
<ul>
<li>development branches that requires merge to the main branch
<ul>
<li>but what&rsquo;s the solution?</li>
</ul>
</li>
</ul>
</li>
<li>Policies that scale well
<ul>
<li>==knowledge sharing== We’ve found that expertise and shared communication forums offer great value as an organization scales.</li>
<li>Beyonce rule: if you like it, you should put a CI test on it.</li>
</ul>
</li>
</ul>
<h3 id="13-tradeoffs-and-costs">1.3 Tradeoffs and Costs<a aria-label="Link to this section" class="paige-header-link" href="#13-tradeoffs-and-costs"></a></h3>
<ul>
<li>we are asked to make more ==complex decisions== with higher-stakes outcomes, often based on ==imprecise estimates== of ==time== and ==growth==.</li>
<li>Different types of costs
<ul>
<li>Financial costs (e.g., money)</li>
<li>Resource costs (e.g., CPU time)</li>
<li>Personnel costs (e.g., engineering effort)</li>
<li>Transaction costs (e.g., what does it cost to take action?)</li>
<li>Opportunity costs (e.g., what does it cost to not take action?)</li>
<li>Societal costs (e.g., what impact will this choice have on society at large?)</li>
</ul>
</li>
<li>Shift left:
<ul>
<li>find errors earlier decreases the cost
<ul>
<li>concept - design - development - testing - commit - integration - production</li>
</ul>
</li>
</ul>
</li>
<li>2 common decision scenaiors
<ol>
<li>All of the quantities involved are measurable or can at least be estimated. This usually means that we’re evaluating trade-offs between CPU and network, or dollars and RAM, or considering whether to spend two weeks of engineer-time in order to save N CPUs across our datacenters.</li>
<li>Some of the quantities are subtle, or we don’t know how to measure them. Sometimes this manifests as “We don’t know how much engineer-time this will take.” Sometimes it is even more nebulous: how do you measure the engineering cost of a poorly designed API? Or the societal impact of a product choice?</li>
</ol>
</li>
</ul>
<h3 id="14-tldr">1.4 TL;DR<a aria-label="Link to this section" class="paige-header-link" href="#14-tldr"></a></h3>
<p>“Software engineering” differs from “programming” in dimensionality: programming is about producing code. Software engineering extends that to include the maintenance of that code for its useful life span.</p>
<p>There is a factor of at least 100,000 times between the life spans of short-lived code and long-lived code. It is silly to assume that the same best practices apply universally on both ends of that spectrum.</p>
<p>Software is sustainable when, for the expected life span of the code, we are capable of responding to changes in dependencies, technology, or product requirements. We may choose to not change things, but we need to be capable.</p>
<p>Hyrum’s Law: with a sufficient number of users of an API, it does not matter what you promise in the contract: all observable behaviors of your system will be depended on by somebody.</p>
<p>Every task your organization has to do repeatedly should be scalable (linear or better) in terms of human input. Policies are a wonderful tool for making process scalable.</p>
<p>Process inefficiencies and other software-development tasks tend to scale up slowly. Be careful about boiled-frog problems.</p>
<p>Expertise pays off particularly well when combined with economies of scale.</p>
<p>“Because I said so” is a terrible reason to do things.</p>
<p>Being data driven is a good start, but in reality, most decisions are based on a mix of data, assumption, precedent, and argument. It’s best when objective data makes up the majority of those inputs, but it can rarely be all of them.</p>
<p>Being data driven over time implies the need to change directions when the data changes (or when assumptions are dispelled). Mistakes or revised plans are inevitable.</p>
<h1 id="i-culture">I CULTURE<a aria-label="Link to this section" class="paige-header-link" href="#i-culture"></a></h1>
<h2 id="2-working-well-on-temas">2. Working Well On Temas<a aria-label="Link to this section" class="paige-header-link" href="#2-working-well-on-temas"></a></h2>
<h3 id="21-help-me-hide-my-code">2.1 Help Me Hide My Code<a aria-label="Link to this section" class="paige-header-link" href="#21-help-me-hide-my-code"></a></h3>
<ul>
<li>Some people are insecure in showing code that is in progress
<ul>
<li>because no one likes to be criticized</li>
<li>because of the genius myth</li>
</ul>
</li>
</ul>
<h3 id="22-the-genius-myth">2.2 The Genius Myth<a aria-label="Link to this section" class="paige-header-link" href="#22-the-genius-myth"></a></h3>
<ul>
<li>Genius deconstructed
<ul>
<li>Linus:  Linus did was write just the beginnings of a proof-of-concept Unix-like kernel and show it to an email list. That was no small accomplishment, and it was definitely an impressive achievement, but it was just the tip of the iceberg. Linux is hundreds of times bigger than that initial kernel and was developed by <em>thousands</em> of smart people. Linus’ real achievement was to lead these people and coordinate their work; Linux is the shining result not of his original idea, but of the collective labor  of the communit</li>
<li>Michael Jordan: had Phil Jackson and strong set of teammates</li>
</ul>
</li>
</ul>
<h3 id="23-hiding-considered-harmful">2.3 Hiding Considered Harmful<a aria-label="Link to this section" class="paige-header-link" href="#23-hiding-considered-harmful"></a></h3>
<ul>
<li>If you spend all of your time working alone, you’re increasing the risk of unnecessary failure and cheating your potential for growth</li>
<li>If you keep your great idea hidden from the world and refuse to show anyone anything until the implementation is polished, you’re taking a huge gamble.
<ul>
<li>Early sharing isn’t just about preventing personal missteps and getting your ideas vetted.</li>
</ul>
</li>
<li>So, what “hiding” boils down to is this: working alone is inherently riskier than working with others. Even though you might be afraid of someone stealing your idea or thinking you’re not intelligent, you should be much more concerned about wasting huge swaths of your time toiling away on the wrong thing.</li>
</ul>
<h3 id="24-its-all-about-the-team">2.4 It&rsquo;s All About the Team<a aria-label="Link to this section" class="paige-header-link" href="#24-its-all-about-the-team"></a></h3>
<ul>
<li>Software engineering is a team endeavor</li>
</ul>
<h4 id="3-pillars-of-social-interaction">3 Pillars of Social Interaction<a aria-label="Link to this section" class="paige-header-link" href="#3-pillars-of-social-interaction"></a></h4>
<ul>
<li>==Humility==
<ul>
<li>You are not the center of the universe (nor is your code!). You’re neither omniscient nor infallible. You’re open to self-improvement.</li>
</ul>
</li>
<li>==Respect==
<ul>
<li>You genuinely care about others you work with. You treat them kindly and appreciate their abilities and accomplishments.</li>
</ul>
</li>
<li>==Trust==
<ul>
<li>You believe others are competent and will do the right thing, and you’re OK with letting them drive when appropriate</li>
</ul>
</li>
</ul>
<h4 id="the-3-pillars-in-practice">The 3 Pillars in Practice<a aria-label="Link to this section" class="paige-header-link" href="#the-3-pillars-in-practice"></a></h4>
<ul>
<li>Lose the ego
<ul>
<li>Nobody wants to work with someone who consistently behaves like they’re the most important person in the room. Even if you know you’re the wisest person in the discussion, don’t wave it in people’s face</li>
<li>Doesn’t mean you need to be a doormat; there’s nothing wrong with self-confidence. Just don’t come off like a know-it-all. Even better, think about going for a “collective” ego, instead; rather than worrying about whether you’re personally awesome, try to build a sense of team accomplishment and group pride</li>
</ul>
</li>
<li>Learn to give AND take criticism
<ul>
<li>
<p>Giving criticism</p>
<ul>
<li>Be aware if people may be insecure</li>
<li>Strive to make the feedback constructive
<ul>
<li>factual and not personal</li>
<li>over-arching statements</li>
</ul>
</li>
<li>Practice curiousity and understanding tone</li>
</ul>
</li>
<li>
<p>Taking criticism</p>
<ul>
<li>You are not the code you write</li>
<li>Be humble about your skills and trust that the other person has your best interests at heart</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="blameless-post-mortem">Blameless Post Mortem<a aria-label="Link to this section" class="paige-header-link" href="#blameless-post-mortem"></a></h3>
<h4 id="being-googley">Being Googley<a aria-label="Link to this section" class="paige-header-link" href="#being-googley"></a></h4>
<ul>
<li>Thrives in ambiguity
<ul>
<li>Can deal with conflicting messages or directions, build consensus, and make progress against a problem, even when the environment is constantly shifting.</li>
</ul>
</li>
<li>Values feedback
<ul>
<li>Has humility to both receive and give feedback gracefully and understands how valuable feedback is for personal (and team) development.</li>
</ul>
</li>
<li>Challenges status quo
<ul>
<li>Is able to set ambitious goals and pursue them even when there might be resistance or inertia from others.</li>
</ul>
</li>
<li>Puts the user first
<ul>
<li>Has empathy and respect for users of Google’s products and pursues actions that are in their best interests.</li>
</ul>
</li>
<li>Cares about the team
<ul>
<li>Has empathy and respect for coworkers and actively works to help them without being asked, improving team cohesion.</li>
</ul>
</li>
<li>Does the right thing
<ul>
<li>Has a strong sense of ethics about everything they do; willing to make difficult or inconvenient decisions to protect the integrity of the team and product.</li>
</ul>
</li>
</ul>
<h2 id="3-knowledge-sharing">3 Knowledge Sharing<a aria-label="Link to this section" class="paige-header-link" href="#3-knowledge-sharing"></a></h2>
<h3 id="31-challenges-to-learning">3.1 Challenges to Learning<a aria-label="Link to this section" class="paige-header-link" href="#31-challenges-to-learning"></a></h3>
<ul>
<li>
<p>Lack of psychological safety</p>
<ul>
<li>An environment in which people are afraid to take risks or make mistakes in front of others because they fear being punished for it. This often manifests as a culture of fear or a tendency to avoid transparency.</li>
</ul>
</li>
<li>
<p>Information islands</p>
<ul>
<li>Knowledge fragmentation that occurs in different parts of an organization that don’t communicate with one another or use shared resources. In such an environment, each group develops its own way of doing things.1 This often leads to the following:</li>
</ul>
</li>
<li>
<p>Information fragmentation</p>
<ul>
<li>Each island has an incomplete picture of the bigger whole.</li>
</ul>
</li>
<li>
<p>Information duplication</p>
<ul>
<li>Each island has reinvented its own way of doing something.</li>
</ul>
</li>
<li>
<p>Information skew</p>
<ul>
<li>Each island has its own ways of doing the same thing, and these might or might not conflict.</li>
</ul>
</li>
<li>
<p>Single point of failure (SPOF)</p>
<ul>
<li>A bottleneck that occurs when critical information is available from only a single person. This is related to bus factor, which is discussed in more detail in Chapter 2.</li>
<li>SPOFs can arise out of good intentions: it can be easy to fall into a habit of “Let me take care of that for you.” But this approach optimizes for short-term efficiency (“It’s faster for me to do it”) at the cost of poor long-term scalability (the team never learns how to do whatever it is that needs to be done). This mindset also tends to lead to all-or-nothing expertise.</li>
</ul>
</li>
<li>
<p>All-or-nothing expertise</p>
<ul>
<li>A group of people that is split between people who know “everything” and novices, with little middle ground. This problem often reinforces itself if experts always do everything themselves and don’t take the time to develop new experts through mentoring or documentation. In this scenario, knowledge and responsibilities continue to accumulate on those who already have expertise, and new team members or novices are left to fend for themselves and ramp up more slowly.</li>
</ul>
</li>
<li>
<p>Parroting</p>
<ul>
<li>Mimicry without understanding. This is typically characterized by mindlessly copying patterns or code without understanding their purpose, often under the assumption that said code is needed for unknown reasons.</li>
</ul>
</li>
<li>
<p>Haunted graveyards</p>
<ul>
<li>Places, often in code, that people avoid touching or changing because they are afraid that something might go wrong. Unlike the aforementioned parroting, haunted graveyards are characterized by people avoiding action because of fear and superstition.</li>
</ul>
</li>
</ul>
<h3 id="32-setting-the-stage-psychological-safety">3.2 Setting the Stage: Psychological Safety<a aria-label="Link to this section" class="paige-header-link" href="#32-setting-the-stage-psychological-safety"></a></h3>
<ul>
<li>Software engineering can be defined as the multiperson development of multiversion programs
<ul>
<li>code is an important output but only a small part of building a product</li>
<li>code does not emerge spontaneously out of nothing, and neither does expertise. an organization’s success depends on growing and investing in its people.</li>
</ul>
</li>
<li>Personalized 1-1 advice doers not scale</li>
<li>Documented knowledge scales better, like team wiki but has tradeoffs
<ul>
<li>it might be more generalized and less applicable to individual learners’ situations, and it comes with the added maintenance cost required to keep information relevant and up to date over time</li>
</ul>
</li>
<li>You need both documentation and personal 1-1 knowledge
<ul>
<li>Tribal and written knowledge complement each other. Even a perfectly expert team with perfect documentation needs to communicate with one another, coordinate with other teams, and adapt their strategies over time. No single knowledge-sharing approach is the correct solution for all types of learning, and the particulars of a good mix will likely vary based on your organization</li>
</ul>
</li>
</ul>
<h3 id="33-growing-your-knowledge">3.3 Growing Your Knowledge<a aria-label="Link to this section" class="paige-header-link" href="#33-growing-your-knowledge"></a></h3>
<ul>
<li>
<p>Ask Questions</p>
<ul>
<li>The more you know, <a href="https://oreil.ly/VWusg">the more you know you don’t know</a>. Openly asking questions<a href="https://learning.oreilly.com/library/view/software-engineering-at/9781492082781/ch03.html#ch01fn29">4</a> or expressing gaps in knowledge reinforces that it’s OK for others to do the same</li>
</ul>
</li>
<li>
<p>Understand the Context</p>
<ul>
<li>Learning is not just about understanding new things; it also includes developing an understanding of the decisions behind the design and implementation of existing things</li>
<li><a href="https://en.wikipedia.org/wiki/Wikipedia:Chesterton's_fence">Chesterton&rsquo;s fence wiki</a>
<ul>
<li> the principle that reforms should not be made until the reasoning behind the existing state of affairs is understood.</li>
</ul>
</li>
<li>Google style guide includes rationale for each style guide</li>
</ul>
</li>
</ul>
<h3 id="34-scaling-your-questions-ask-the-community">3.4 Scaling Your Questions: Ask the Community<a aria-label="Link to this section" class="paige-header-link" href="#34-scaling-your-questions-ask-the-community"></a></h3>
<h3 id="35-scaling-your-knowledge-you-always-have-something-to-teach">3.5 Scaling Your Knowledge: You Always Have Something To Teach<a aria-label="Link to this section" class="paige-header-link" href="#35-scaling-your-knowledge-you-always-have-something-to-teach"></a></h3>
<ul>
<li>Tech Talks and Classes</li>
<li>Documentation: update, create, promote documentation</li>
</ul>
<h3 id="36-scaling-your-organizations-knowledge">3.6 Scaling Your Organization&rsquo;s Knowledge<a aria-label="Link to this section" class="paige-header-link" href="#36-scaling-your-organizations-knowledge"></a></h3>
<ul>
<li>
<p>Cultivate a Knowledge Sharing Culture</p>
<ul>
<li>Respect</li>
<li>Incentives and Recognition
<ul>
<li>encourages engineers to share knowledge by noting these expectations explicitly. part of promotion</li>
<li>Ex of senior leadership
<ul>
<li>Growing future leaders by serving as mentors to junior staff, helping them develop both technically and in their Google role</li>
<li>Sustaining and developing the software community at Google via code and design reviews, engineering education and development, and expert guidance to others in the field</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Establish Canonical Source of Information</p>
<ul>
<li>Developer Guides
<ul>
<li>Google has a broad and deep set of official guidance for engineers, including <a href="https://google.github.io/styleguide/">style guides</a>, official software engineering best practices,guides for code review (Chapter 9), and testing (Chap 11, 12, 14) and Tips of the Week</li>
</ul>
</li>
<li>==CodeLabs==
<ul>
<li><a href="https://codelabs.developers.google.com/?category=aiandmachinelearning">some of google&rsquo;s codelab</a></li>
<li><a href="https://github.com/googlecodelabs/tools">github</a></li>
</ul>
</li>
<li>Static Analysis (Chap 20 of book)
<ul>
<li>Powerful way to share best practices that can be checked programatically</li>
<li>God way to scale team efficiently</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Staying in the Loop</p>
<ul>
<li>Type of info
<ul>
<li>Knowing how to do a typical development workflow (impt)</li>
<li>Update on popular producitivty tools (less impt)</li>
</ul>
</li>
<li>Newsletters</li>
<li>Communities</li>
</ul>
</li>
</ul>
<h3 id="37-readability-standardized-mentorship-through--code-reviews">3.7 Readability: Standardized Mentorship Through  Code Reviews<a aria-label="Link to this section" class="paige-header-link" href="#37-readability-standardized-mentorship-through--code-reviews"></a></h3>
<ul>
<li>
<h2 id="change-list-requires-readbility-approvals">Change list requires readbility approvals<a aria-label="Link to this section" class="paige-header-link" href="#change-list-requires-readbility-approvals"></a></h2>
</li>
<li>
<p>1-2% of google engineers are readability reviewer</p>
<ul>
<li>Readability reviewers are held to the highest standards because they are expected not just to have deep language expertise, but also an aptitude for teaching through code review.</li>
</ul>
</li>
<li>
<p>Benefits</p>
<ul>
<li>good to cross pollinate</li>
<li>standard code across islands</li>
</ul>
</li>
<li>
<p>Cost but still worth it in my opinion</p>
<ul>
<li>These benefits come with some costs: readability is a heavyweight process compared to other mediums like documentation and classes because it is mandatory and enforced by Google tooling</li>
<li>Increased friction for teams that do not have any team members with readability, because they need to find reviewers from outside their team to give readability approval on CLs.</li>
<li>Potential for additional rounds of code review for authors who need readability review.</li>
<li>Scaling disadvantages of being a human-driven process. Limited to scaling linearly to organization growth because it depends on human reviewers doing specialized code reviews.</li>
</ul>
</li>
</ul>
<h2 id="4-engineering-for-equity">4 Engineering for Equity<a aria-label="Link to this section" class="paige-header-link" href="#4-engineering-for-equity"></a></h2>
<h2 id="5-how-to-lead-a-team">5 How To Lead a Team<a aria-label="Link to this section" class="paige-header-link" href="#5-how-to-lead-a-team"></a></h2>
<h3 id="51-managers-tl-and-tech-lead-manager">5.1 Managers, TL, and Tech Lead Manager<a aria-label="Link to this section" class="paige-header-link" href="#51-managers-tl-and-tech-lead-manager"></a></h3>
<ul>
<li>
<p>Engineering manager is responsible for the performance, productivity, and happiness of every person on their team</p>
<ul>
<li>The needs of the business and the needs of individual team members don’t always align, this can often place a manager in a difficult position.</li>
</ul>
</li>
<li>
<p>Tech Lead is responsible for technology decisions and choices, architecture, priorities, velocity, and general project management</p>
</li>
<li>
<p>TLM a single person who can handle both the people and technical needs of their team</p>
<ul>
<li>The job of TLM is a tricky one and often requires the TLM to learn how to balance individual work, delegation, and people management</li>
</ul>
</li>
</ul>
<h3 id="52-moving-from-ic-to-leadership-role">5.2 Moving from IC to Leadership Role<a aria-label="Link to this section" class="paige-header-link" href="#52-moving-from-ic-to-leadership-role"></a></h3>
<ul>
<li>Many ICs ==don&rsquo;t== want to be a manager
<ul>
<li>not much to point what they have accomplished at the end of day. Quantifying managment work is touch.</li>
<li>people rise to the level of their incompetence; so an IC has likely a &ldquo;crappy&rdquo; manager</li>
</ul>
</li>
<li>A good reason for IC to become a manager is because they want to scale themselves</li>
<li>Servant leadership
<ul>
<li>servant leadership,” which is a nice way of saying the most important thing you can do as a leader is to serve your team, much like a butler or majordomo tends to the health and well-being of a household.</li>
<li>removing bureaucratic obstacles that a team member can’t remove by themselves, helping a team achieve consensus, or even buying dinner for the team</li>
<li>But how is this good for me ? Isn&rsquo;t this one of the reason why I didn&rsquo;t want to be a TLM at Ebay?</li>
</ul>
</li>
</ul>
<h3 id="53-the-engineering-manager">5.3 The Engineering Manager<a aria-label="Link to this section" class="paige-header-link" href="#53-the-engineering-manager"></a></h3>
<ul>
<li>Dating back to the factories, manager has used the carrot and stick
<ul>
<li>This may not work well; if managers act like parents and treat the employees as chidlren, employees will act like children.</li>
<li>Is it better to trust the employees, and the employee fees positive pressure to live up to that trust?</li>
<li><em>Traditional managers worry about HOW to get things done, whereas great managers worry about WHAT things get done (and trust their team to figure out how to do it).</em></li>
</ul>
</li>
</ul>
<h3 id="54-anti-patterns">5.4 Anti-patterns<a aria-label="Link to this section" class="paige-header-link" href="#54-anti-patterns"></a></h3>
<ol>
<li>HIre pushovers
<ol>
<li>Strive to hire people who are smarter than you and can replace you. This can be difficult because these very same people will challenge you on a regular basis (in addition to letting you know when you make a mistake). These very same people will also consistently impress you and make great things happen. They’ll be able to direct themselves to a much greater extent, and some will be eager to lead the team, as well.</li>
</ol>
</li>
<li>Ignore Lower Performers
<ol>
<li>&ldquo;Hope is not a strategy&rdquo;</li>
<li>Coach the low performer
<ol>
<li>Make the goals small, incremental, and measurable so that there’s an opportunity for lots of small successes</li>
</ol>
</li>
</ol>
</li>
<li>Ignore Human Issues
<ol>
<li>Show empathy to collegues who are going through their various challenges.</li>
</ol>
</li>
<li>Be Everyone&rsquo;s Friend
<ol>
<li>Don’t confuse friendship with leading with a soft touch: when you hold power over someone’s career, they might feel pressure to artificially reciprocate gestures of friendship.</li>
<li>Remember that you can lead a team and build consensus without being a close friend of your team or a hard ass.</li>
</ol>
</li>
<li>Compromise the Hiring Bar</li>
<li>Treat Your Children Like Children
<ol>
<li>if you treat them like children or prisoners, don’t be surprised when that’s how they behave</li>
</ol>
</li>
</ol>
<h3 id="55-positive-patterns">5.5 Positive Patterns<a aria-label="Link to this section" class="paige-header-link" href="#55-positive-patterns"></a></h3>
<ol>
<li>Lose the Ego</li>
<li>Be a Zen Master
<ol>
<li>This is not to say that you should be naively optimistic at every turn, but you would do well to be less vocally skeptical while still letting your team know you’re aware of the intricacies and obstacles involved in your work</li>
<li>Cogs: Be aware that a little movement at the higher cog( vp) makes the lower cogs move alot.</li>
<li>Your visible attitude about absolutely everything—no matter how trivial—is unconsciously noticed and spreads infectiously to your team</li>
<li>The key is to ==ask questions with humility, respect, and trust==.</li>
</ol>
</li>
<li>Be a Catalyst</li>
<li>Remove Roadblocks</li>
<li>Be a Teacher and Mentor</li>
<li>Set Cear Goals</li>
<li>Be Honest
<ol>
<li><em>I won’t lie to you, but I will tell you when I can’t tell you something or if I just don’t know.</em></li>
</ol>
</li>
<li>Track Happiness</li>
</ol>
<h3 id="56-the-unexpected-questions">5.6 The Unexpected Questions<a aria-label="Link to this section" class="paige-header-link" href="#56-the-unexpected-questions"></a></h3>
<h3 id="57-other-tips-and-tricks">5.7 Other Tips and Tricks<a aria-label="Link to this section" class="paige-header-link" href="#57-other-tips-and-tricks"></a></h3>
<ol>
<li>Delegate, but get your hands dirty</li>
<li>Seek to replace yourself
<ol>
<li>?? Under all circumstance ??</li>
</ol>
</li>
<li>Know when to make waves; ie to get your team what they need</li>
<li>Shield your team from chaos</li>
<li>Let the team know when they&rsquo;re doing well</li>
<li>Give your team air cover
<ol>
<li>Ze&rsquo;ev was really good at this</li>
<li>it’s just as important that you defend them from a lot of the uncertainty and frivolous demands that can be imposed upon you from outside your team. Share as much information as you can with your team, but don’t distract them with organizational craziness that is extremely unlikely to ever actually affect them</li>
</ol>
</li>
<li>It’s easy to say “yes” to something that’s easy to undo</li>
</ol>
<h3 id="58-people-are-like-plants">5.8 People are Like Plants<a aria-label="Link to this section" class="paige-header-link" href="#58-people-are-like-plants"></a></h3>
<ul>
<li>
<p>Different people need different things</p>
<ul>
<li>you need to motivate the ones who are in a rut and provide stronger direction to those who are distracted or uncertain of what to do. Of course, there are those who are “adrift” and need both motivation and direction. So, with this combination of motivation and direction, you can make your team happy and productive. And you don’t want to give them too much of either—because if they don’t need motivation or direction and you try giving it to them, you’re just going to annoy them.</li>
</ul>
</li>
<li>
<p>Intrinsic vs Extrinsic Motivation</p>
<ul>
<li>With autonomous employees you might give them the general direction in which they need to take the product but leave it up to them to decide how to get there</li>
<li>Give ample opportunities for engineers to learn new things and master their craft so as to keep them sharp, efficient, and effective</li>
</ul>
</li>
</ul>
<h3 id="59-conclusion">5.9 Conclusion<a aria-label="Link to this section" class="paige-header-link" href="#59-conclusion"></a></h3>
<h2 id="6-leading-at-scale">6 Leading At Scale<a aria-label="Link to this section" class="paige-header-link" href="#6-leading-at-scale"></a></h2>
<h3 id="61-always-be-deciding">6.1 Always Be Deciding<a aria-label="Link to this section" class="paige-header-link" href="#61-always-be-deciding"></a></h3>
<ul>
<li>Identify the Blinders
<ul>
<li>Being new to a domain can be an advantage. You can question the old assumptions, ask questions, and then consider new strategies.</li>
</ul>
</li>
<li>Identify the Key Trade Offs
<ul>
<li>Ex: Latency, Capacity, Quality</li>
</ul>
</li>
<li>Decide and Iterate</li>
</ul>
<h3 id="62-always-be-leaving">6.2 Always Be Leaving<a aria-label="Link to this section" class="paige-header-link" href="#62-always-be-leaving"></a></h3>
<ul>
<li>Your Mission is to Build a Self Driving Team</li>
<li>Dividing Up the Problem Space
<ul>
<li>Challenging problems are usually composed of difficult subproblems. If you’re leading a team of teams, an obvious choice is to put a team in charge of each subproblem.
<ul>
<li>Caveat: subproblems changes over time, so we need a team structure that can evolve.  Maybe that&rsquo;s why a matrix org</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="63-always-be-scaling">6.3 Always Be Scaling<a aria-label="Link to this section" class="paige-header-link" href="#63-always-be-scaling"></a></h3>
<ul>
<li>
<p>The Cycles of Success</p>
<ul>
<li>
<p>Stages</p>
<ol>
<li>Analysis</li>
<li>Struggle</li>
<li>Traction</li>
<li>Reward
<ol>
<li>The reward may be a whole new problem to solve.  (Remember the heart of the machine book?)</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">graph LR;
    StruggleIth --&gt; FakeIt;
    FakeIt --&gt; Traction;
    Traction --&gt; Reward;
    Reward --&gt; Compression;
    Compression --&gt; StruggleIth;
</code></pre></li>
<li>
<p>Compression</p>
<ul>
<li>Definition: solve the old partially-solved problem and new problem</li>
<li>The act of compressing a problem isn’t just about figuring out how to maximize your team’s efficiency, but also about learning to scale your own time and attention to match the new breadth of responsibility.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Important Vs Urgent</p>
</li>
<li>
<p>Learn to Drop Balls</p>
<ul>
<li>If dropping some number of balls is inevitable, isn’t it better to drop certain balls ==deliberately== rather than accidentally?</li>
<li>Like Mary Kondo, Divide your pile of balls into three groups: the bottom 20% are probably neither urgent nor important and very easy to delete or ignore. There’s a middle 60%, which might contain some bits of urgency or importance, but it’s a mixed bag. At the top, there’s 20% of things that are absolutely, critically important. ==Tackle the top 20% of the tasks==</li>
</ul>
</li>
<li>
<p>Protecting Your Energy</p>
</li>
</ul>
<h3 id="64-conclusion">6.4 Conclusion<a aria-label="Link to this section" class="paige-header-link" href="#64-conclusion"></a></h3>
<h2 id="7-measuring-engineering">7 Measuring Engineering<a aria-label="Link to this section" class="paige-header-link" href="#7-measuring-engineering"></a></h2>
<h3 id="71-whats-goal">7.1 What&rsquo;s Goal?<a aria-label="Link to this section" class="paige-header-link" href="#71-whats-goal"></a></h3>
<ul>
<li>A goal should be written in terms of a desired property</li>
<li>5 Aspects of Productivity (and its trade offs): QuAnts
<ul>
<li>==Qu==ality of Code
<ul>
<li>What is the quality of the code produced? Are the test cases good enough to prevent regressions? How good is an architecture at mitigating risk and changes?</li>
</ul>
</li>
<li>==A==ttention of Engineer
<ul>
<li>How frequently do engineers reach a state of flow? How much are they distracted by notifications? Does a tool encourage engineers to context switch?</li>
</ul>
</li>
<li>I==n==tellecutal complexity
<ul>
<li>How much cognitive load is required to complete a task? What is the inherent complexity of the problem being solved? Do engineers need to deal with unnecessary complexity?</li>
</ul>
</li>
<li>==T==empo and Velocity
<ul>
<li>How quickly can engineers accomplish their tasks? How fast can they push their releases out? How many tasks do they complete in a given timeframe?</li>
</ul>
</li>
<li>==S==atisfaction
<ul>
<li>How happy are engineers with their tools? How well does a tool meet engineers’ needs? How satisfied are they with their work and their end product? Are engineers feeling burned out?</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="72-signals">7.2 Signals<a aria-label="Link to this section" class="paige-header-link" href="#72-signals"></a></h3>
<ul>
<li>A signal is the way in which we will know we’ve achieved our goal</li>
<li>If the goal is to write high quality code as result of readability process, 2 possible signals are
<ol>
<li>Engineers who have been granted readability judge their code to be of higher quality than engineers who have not been granted readability.</li>
<li>The readability process has a positive impact on code quality.</li>
</ol>
</li>
</ul>
<h3 id="73-metrics">7.3 Metrics<a aria-label="Link to this section" class="paige-header-link" href="#73-metrics"></a></h3>
<ul>
<li>Metrics are where we finally determine how we will measure the signal. Metrics are not the signal themselves
<ul>
<li>Ex: a survey</li>
</ul>
</li>
</ul>
<h1 id="ii-processes">II PROCESSES<a aria-label="Link to this section" class="paige-header-link" href="#ii-processes"></a></h1>
<h2 id="8-style-guides-and-rules">8 Style Guides and Rules<a aria-label="Link to this section" class="paige-header-link" href="#8-style-guides-and-rules"></a></h2>
<h2 id="9-code-review">9 Code Review<a aria-label="Link to this section" class="paige-header-link" href="#9-code-review"></a></h2>
<ul>
<li>
<p>Perspectives</p>
<ul>
<li>Code is a maintenance task to someone somewhere down the line
<ul>
<li>Make sure you have done research on previous library utlility classes</li>
<li>Communicate a new design to the proper group before any code is written</li>
</ul>
</li>
<li>Code review should be separated from design review
<ul>
<li>
<p>design discussion should be done in design document</p>
</li>
<li>
<p><em>As much as a code review of entirely new code should not come out of the blue, the code review process itself should also not be viewed as an opportunity to revisit previous decisions.</em></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Code Review Benefits</p>
<ul>
<li>Code correctness</li>
<li>Code comprehension</li>
<li>Code consistency</li>
<li>Psychologic and cultural benefits
<ul>
<li><em>Code review, when it works best, provides not only a challenge to an engineer’s assumptions, but also does so in a prescribed, neutral manner, acting to temper any criticism which might otherwise be directed to the author if provided in an unsolicited manner.</em></li>
<li><em>Validation: Even the most capable engineers can suffer from imposter syndrome and be too self-critical. A process like code review acts as validation and recognition for one’s work.</em></li>
</ul>
</li>
<li>Knowledge sharing</li>
</ul>
</li>
<li>
<p>3 Types of Approvals at Google</p>
<ol>
<li>Correctness and comprehnesion check that the cod eis appropriate and does what the author claims it does</li>
<li>Code is appropriate for this part of the code base</li>
<li>Readability</li>
</ol>
</li>
<li>
<p>Code Review Best Practices</p>
<ol>
<li>Be polite and profefssional
<ol>
<li>Changes can be submitted after those changes are made, without any additional rounds of review</li>
<li>Reviewers should defer to authors on particular approaches and only point out alternatives if the author’s approach is ==deficient==.
<ol>
<li>If an author can demonstrate that several approaches are equally valid, the reviewer should accept the preference of the author</li>
</ol>
</li>
<li>Reviewers should be careful about jumping to conclusions based on a code author’s particular approach. It’s better to ask questions on why something was done the way it was before assuming that approach is wrong.</li>
<li>Reviewers should avoid responding to the code review in piecemeal fashion.
<ol>
<li>Few things annoy an author more than getting feedback from a review, addressing it, and then continuing to get unrelated further feedback in the review process.</li>
</ol>
</li>
<li>Commiter treat each reviewer comment within a code review as a TODO item; a particular comment might not need to be accepted without question, but it should at least be addressed.
<ol>
<li>If you disagree with a reviewer’s comment, let them know, and let them know why and don’t mark a comment as resolved until each side has had a chance to offer alternatives. One common way to keep such debates civil if an author doesn’t agree with a reviewer is to offer an alternative and ask the reviewer to PTAL (please take another look).</li>
<li>Remember that code review is a learning opportunity for both the reviewer and the author. That insight often helps to mitigate any chances for disagreement.</li>
</ol>
</li>
</ol>
</li>
<li>Write Small Changes</li>
<li>Write Good Change Descriptions
<ol>
<li><em>A change description should indicate its type of change on the first line, as a summary. The first line is prime real estate and is used to provide summaries within the code review tool itself</em></li>
</ol>
</li>
<li>Keep Reviewers # to a Minimum</li>
</ol>
</li>
<li>
<p>Types of Code Reviews</p>
<ul>
<li>
<p>Greenfield project</p>
<ul>
<li>not very common
<ul>
<li>code is a liability; ensure it&rsquo;s really ncessary and solves a real problem rather provide just another alternative</li>
<li>requires extensive design review
<ul>
<li>API matches agreed design</li>
</ul>
</li>
</ul>
</li>
<li>Imperative to ensure code will stand test of time
<ol>
<li>Test fully
<ol>
<li>with unit test</li>
</ol>
</li>
<li>code has proper owners</li>
<li>Sufficiently commented and supplemental documentation</li>
<li>Possible CICD integration</li>
</ol>
</li>
</ul>
</li>
<li>
<p>Bug Fixes and Rollbacks</p>
<ul>
<li>A bug fix should focus solely on fixing the indicated bug and (usually) updating associated tests to catch the error that occurred in the first place.</li>
</ul>
</li>
<li>
<p>Refactoring and Large Scale Changes</p>
</li>
</ul>
</li>
<li>
<p>Conclusion</p>
<ul>
<li>Code review has many benefits, including ensuring code correctness, comprehension, and consistency across a codebase.</li>
<li>Always check your assumptions through someone else; optimize for the reader.</li>
<li>Provide the opportunity for critical feedback while remaining professional.</li>
<li>Code review is important for knowledge sharing throughout an organization.</li>
<li>Automation is critical for scaling the process.</li>
<li>The code review itself provides a historical record.</li>
</ul>
</li>
<li>
<p>Google uses <a href="https://www.gerritcodereview.com/">Gerrit code review</a></p>
</li>
</ul>
<h2 id="10-documentation">10 Documentation<a aria-label="Link to this section" class="paige-header-link" href="#10-documentation"></a></h2>
<ul>
<li>Answers questions such as
<ul>
<li>Why were these design decisions made?</li>
<li>Why did we implement this code in this manner?</li>
<li>Why did I implement this code in this manner, if you’re looking at your own code two years later?</li>
</ul>
</li>
<li>Why are there more documentations?
<ul>
<li>the benefits aren’t immediate, especially to the writer</li>
<li>Engineers often view writing as a separate skill than that of programming. (We’ll try to illustrate that this isn’t quite the case, and even where it is, it isn’t necessarily a separate skill from that of software engineering.)</li>
<li>Some engineers don’t feel like they are capable writers. But you don’t need a robust command of English2 to produce workable documentation. You just need to step outside yourself a bit and see things from the audience’s perspective.</li>
<li>Writing documentation is often more difficult because of limited tools support or integration into the developer workflow.</li>
<li>Documentation is viewed as an extra burden—something else to maintain—rather than something that will make maintenance of their existing code easier</li>
</ul>
</li>
<li>There are different types of documentations; each with its customer
<ul>
<li>Reference documentation, including code comments</li>
<li>Design documents</li>
<li>Tutorials</li>
<li>Conceptual documentation</li>
<li>Landing pages</li>
</ul>
</li>
</ul>
<h2 id="11-testing-overview">11 Testing Overview<a aria-label="Link to this section" class="paige-header-link" href="#11-testing-overview"></a></h2>
<ul>
<li>Conclusion
<ol>
<li>Automated testing is foundational to enabling software to change.</li>
<li>For tests to scale, they must be automated.</li>
<li>A balanced test suite is necessary for maintaining healthy test coverage.</li>
<li>“If you liked it, you should have put a test on it.”</li>
<li>Changing the testing culture in organizations takes time.</li>
</ol>
</li>
</ul>
<h2 id="12-unit-testing">12 Unit Testing<a aria-label="Link to this section" class="paige-header-link" href="#12-unit-testing"></a></h2>
<h3 id="121-importance-of-maintainability">12.1 Importance of Maintainability<a aria-label="Link to this section" class="paige-header-link" href="#121-importance-of-maintainability"></a></h3>
<ul>
<li>While tests can help code maintenance and quality, ==ineffective== tests can drain productivity and developer satisfaction.</li>
</ul>
<h3 id="122-preventing-brittle-tests">12.2 Preventing Brittle Tests<a aria-label="Link to this section" class="paige-header-link" href="#122-preventing-brittle-tests"></a></h3>
<ul>
<li>
<p>Brittle tests</p>
<ul>
<li>false negative: fails in the face of unrelated changes; where there is no real bugs.</li>
</ul>
</li>
<li>
<p>Strive for Unchanging Tests</p>
<ul>
<li>We should strive not to change any existing tests after it is written.
<ul>
<li>Types of commits:
<ul>
<li>pure refactoring</li>
<li>new features</li>
<li>bug fixes</li>
<li>behavior changes</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>==Action: Test Via Public APIs==</p>
<ul>
<li>Use the apis that customer will use
<em>Given APIs</em></li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">processTransaction</span><span class="p">(</span><span class="n">Transaction</span><span class="w"> </span><span class="n">transaction</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isValid</span><span class="p">(</span><span class="n">transaction</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	    </span><span class="n">saveToDatabase</span><span class="p">(</span><span class="n">transaction</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isValid</span><span class="p">(</span><span class="n">Transaction</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	  </span><span class="k">return</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="na">getAmount</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="na">getSender</span><span class="p">().</span><span class="na">getBalance</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">saveToDatabase</span><span class="p">(</span><span class="n">Transaction</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	  </span><span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="na">getSender</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;,&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="na">getRecipient</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;,&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="na">getAmount</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	  </span><span class="n">database</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">s</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><em>Naive Ineffective Tests</em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">emptyAccountShouldNotBeValid</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	  </span><span class="n">assertThat</span><span class="p">(</span><span class="n">processor</span><span class="p">.</span><span class="na">isValid</span><span class="p">(</span><span class="n">newTransaction</span><span class="p">().</span><span class="na">setSender</span><span class="p">(</span><span class="n">EMPTY_ACCOUNT</span><span class="p">)))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	      </span><span class="p">.</span><span class="na">isFalse</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldSaveSerializedData</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	  </span><span class="n">processor</span><span class="p">.</span><span class="na">saveToDatabase</span><span class="p">(</span><span class="n">newTransaction</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	      </span><span class="p">.</span><span class="na">setId</span><span class="p">(</span><span class="n">123</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	      </span><span class="p">.</span><span class="na">setSender</span><span class="p">(</span><span class="s">&#34;me&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	      </span><span class="p">.</span><span class="na">setRecipient</span><span class="p">(</span><span class="s">&#34;you&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	      </span><span class="p">.</span><span class="na">setAmount</span><span class="p">(</span><span class="n">100</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	  </span><span class="n">assertThat</span><span class="p">(</span><span class="n">database</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">123</span><span class="p">)).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&#34;me,you,100&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><em>Better Tests</em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldTransferFunds</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">processor</span><span class="p">.</span><span class="na">setAccountBalance</span><span class="p">(</span><span class="s">&#34;me&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">150</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">processor</span><span class="p">.</span><span class="na">setAccountBalance</span><span class="p">(</span><span class="s">&#34;you&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">20</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">processor</span><span class="p">.</span><span class="na">processTransaction</span><span class="p">(</span><span class="n">newTransaction</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="p">.</span><span class="na">setSender</span><span class="p">(</span><span class="s">&#34;me&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="p">.</span><span class="na">setRecipient</span><span class="p">(</span><span class="s">&#34;you&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="p">.</span><span class="na">setAmount</span><span class="p">(</span><span class="n">100</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">assertThat</span><span class="p">(</span><span class="n">processor</span><span class="p">.</span><span class="na">getAccountBalance</span><span class="p">(</span><span class="s">&#34;me&#34;</span><span class="p">)).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="n">50</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">assertThat</span><span class="p">(</span><span class="n">processor</span><span class="p">.</span><span class="na">getAccountBalance</span><span class="p">(</span><span class="s">&#34;you&#34;</span><span class="p">)).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="n">120</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><ul>
<li>==Action: Test State, Not Interactions==
<ul>
<li>In general, there are two ways to verify that a system under test behaves as expected.
<ul>
<li>With state testing, you observe the system itself to see what it looks like after invoking with it.</li>
<li>With interaction testing, you instead check that the system took an expected <em>sequence of actions</em> on its collaborators in response to invoking it.</li>
</ul>
</li>
<li><em>Ineffective</em>
<ul>
<li>The test verifies that a specific call was made against a database API, but there are a couple different ways it could go wrong:
<ul>
<li>If a bug in the system under test causes the record to be deleted from the database shortly after it was written, the test will pass even though we would have wanted it to fail.</li>
<li>If the system under test is refactored to call a slightly different API to write an equivalent record, the test will fail even though we would have wanted it to pass.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w">		</span><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldWriteToDatabase</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		  </span><span class="n">accounts</span><span class="p">.</span><span class="na">createUser</span><span class="p">(</span><span class="s">&#34;foobar&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		  </span><span class="n">verify</span><span class="p">(</span><span class="n">database</span><span class="p">).</span><span class="na">put</span><span class="p">(</span><span class="s">&#34;foobar&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><ul>
<li><em>Effective</em>
<ul>
<li>Here, we are testing the state of the system under test after interacting with it.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w">        </span><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldCreateUsers</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">accounts</span><span class="p">.</span><span class="na">createUser</span><span class="p">(</span><span class="s">&#34;foobar&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">assertThat</span><span class="p">(</span><span class="n">accounts</span><span class="p">.</span><span class="na">getUser</span><span class="p">(</span><span class="s">&#34;foobar&#34;</span><span class="p">)).</span><span class="na">isNotNull</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div></li>
</ul>
<h3 id="123-writing-clear-tests">12.3 Writing Clear Tests<a aria-label="Link to this section" class="paige-header-link" href="#123-writing-clear-tests"></a></h3>
<ul>
<li>
<p>Make Your Test Complete and Concise</p>
<ul>
<li>A test is complete when its body contains all of the information a reader needs in order to understand how it arrives at its result.</li>
<li>A test is concise when it contains no other distracting or irrelevant information</li>
<li><em>Ineffective</em>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"></code></pre></div></li>
</ul>
<p>@Test
public void shouldPerformAddition() {
Calculator calculator = new Calculator(new RoundingStrategy(),
&ldquo;unused&rdquo;, ENABLE_COSINE_FEATURE, 0.01, calculusEngine, false);
int result = calculator.calculate(newTestCalculation());
assertThat(result).isEqualTo(5);//Where did this number come from?
}</p>
<pre tabindex="0"><code>
  - _Effective_
```java
@Test
public void shouldPerformAddition() {
  Calculator calculator = newCalculator();
  int result = calculator.calculate(newCalculation(2, Operation.PLUS, 3));
  assertThat(result).isEqualTo(5);
}
</code></pre></li>
<li>
<p>Test  Behaviors; Not Methods</p>
<ul>
<li>Rationale
<ul>
<li>Ineffective: every production method has ==one== test.  As the method under test becomes more complex and implements more functionality, its unit test will become increasingly convoluted and grow more and more difficult to work with</li>
<li>Better: each production has N tests, one for each of the method&rsquo;s behavior we want to verify.</li>
</ul>
</li>
<li>Example
<ul>
<li><em>Method To Test</em></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"></code></pre></div></li>
</ul>
<p>public void displayTransactionResults(User user, Transaction transaction) {
ui.showMessage(&ldquo;You bought a &quot; + transaction.getItemName());
if (user.getBalance() &lt; LOW_BALANCE_THRESHOLD) {
ui.showMessage(&ldquo;Warning: your balance is low!&rdquo;);
}
}</p>
<pre tabindex="0"><code>- _Ineffecive_
```java
@Test
public void testDisplayTransactionResults() {
transactionProcessor.displayTransactionResults(
newUserWithBalance(
LOW_BALANCE_THRESHOLD.plus(dollars(2))),
new Transaction(&#34;Some Item&#34;, dollars(3)));
// Ineffective because these makes this test non-concise; each new behavior requires us to update this method. We strive for unchanged tests.
assertThat(ui.getText()).contains(&#34;You bought a Some Item&#34;);
assertThat(ui.getText()).contains(&#34;your balance is low&#34;);
}
</code></pre><ul>
<li><em>Effective</em></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">displayTransactionResults_showsItemName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">transactionProcessor</span><span class="p">.</span><span class="na">displayTransactionResults</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">new</span><span class="w"> </span><span class="n">User</span><span class="p">(),</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Transaction</span><span class="p">(</span><span class="s">&#34;Some Item&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">assertThat</span><span class="p">(</span><span class="n">ui</span><span class="p">.</span><span class="na">getText</span><span class="p">()).</span><span class="na">contains</span><span class="p">(</span><span class="s">&#34;You bought a Some Item&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">displayTransactionResults_showsLowBalanceWarning</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	  </span><span class="n">transactionProcessor</span><span class="p">.</span><span class="na">displayTransactionResults</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	      </span><span class="n">newUserWithBalance</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	          </span><span class="n">LOW_BALANCE_THRESHOLD</span><span class="p">.</span><span class="na">plus</span><span class="p">(</span><span class="n">dollars</span><span class="p">(</span><span class="n">2</span><span class="p">))),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	      </span><span class="k">new</span><span class="w"> </span><span class="n">Transaction</span><span class="p">(</span><span class="s">&#34;Some Item&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">dollars</span><span class="p">(</span><span class="n">3</span><span class="p">)));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	  </span><span class="n">assertThat</span><span class="p">(</span><span class="n">ui</span><span class="p">.</span><span class="na">getText</span><span class="p">()).</span><span class="na">contains</span><span class="p">(</span><span class="s">&#34;your balance is low&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><ul>
<li>Writing tests as behaviours influences our test strcuture
<ul>
<li>Every behavior has three parts:
<ul>
<li>a “given” component that defines how the system is set up,</li>
<li>a “when” component that defines the action to be taken on the system, and</li>
<li>a “then” component that validates the result.6 Tests are clearest when this structure is explicit.</li>
</ul>
</li>
<li>Doesn&rsquo;t one of the testing framework follow this flow?</li>
<li>Example</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">transferFundsShouldMoveMoneyBetweenAccounts</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c1">// Given two accounts with initial balances of $150 and $20</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">Account</span><span class="w"> </span><span class="n">account1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newAccountWithBalance</span><span class="p">(</span><span class="n">usd</span><span class="p">(</span><span class="n">150</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">Account</span><span class="w"> </span><span class="n">account2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newAccountWithBalance</span><span class="p">(</span><span class="n">usd</span><span class="p">(</span><span class="n">20</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c1">// When transferring $100 from the first to the second account</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">bank</span><span class="p">.</span><span class="na">transferFunds</span><span class="p">(</span><span class="n">account1</span><span class="p">,</span><span class="w"> </span><span class="n">account2</span><span class="p">,</span><span class="w"> </span><span class="n">usd</span><span class="p">(</span><span class="n">100</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c1">// Then the new account balances should reflect the transfer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">assertThat</span><span class="p">(</span><span class="n">account1</span><span class="p">.</span><span class="na">getBalance</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="n">usd</span><span class="p">(</span><span class="n">50</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">assertThat</span><span class="p">(</span><span class="n">account2</span><span class="p">.</span><span class="na">getBalance</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="n">usd</span><span class="p">(</span><span class="n">120</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>Don&rsquo;t Put Logic In Tests</p>
</li>
<li>
<p>Write Clear Failure Messages</p>
<ul>
<li><em>Ineffective</em>
<ul>
<li>&ldquo;Test failed: account is closed&rdquo;</li>
</ul>
</li>
<li><em>Effective</em>
<ul>
<li>Expected an account in state CLOSED, but got account:
&lt;{name: &ldquo;my-account&rdquo;, state: &ldquo;OPEN&rdquo;}</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="124-test-and-code-sharing-damp-not-dry">12.4 Test and Code Sharing: DAMP, not DRY<a aria-label="Link to this section" class="paige-header-link" href="#124-test-and-code-sharing-damp-not-dry"></a></h3>
<ul>
<li>
<p>Rationale</p>
<ul>
<li>
<p>In production code, we strive to be DRY: Don&rsquo;t Repeat Yourself. So we have common libraries.</p>
<ul>
<li>The downside to such consolidation is that it can make code unclear, requiring readers to follow chains of references to understand what the code is doing. (MC-Kernel)</li>
</ul>
</li>
<li>
<p>Test code should often strive to be DAMP—that is, to promote “Descriptive And Meaningful Phrases.” A little bit of duplication is OK in tests so long as that duplication makes the test simpler and clearer</p>
<ul>
<li><em>Ineffective</em></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldAllowMultipleUsers</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createUsers</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">Forum</span><span class="w"> </span><span class="n">forum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createForumAndRegisterUsers</span><span class="p">(</span><span class="n">users</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">validateForumAndUsers</span><span class="p">(</span><span class="n">forum</span><span class="p">,</span><span class="w"> </span><span class="n">users</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldNotAllowBannedUsers</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createUsers</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">Forum</span><span class="w"> </span><span class="n">forum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createForumAndRegisterUsers</span><span class="p">(</span><span class="n">users</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">validateForumAndUsers</span><span class="p">(</span><span class="n">forum</span><span class="p">,</span><span class="w"> </span><span class="n">users</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// Lots more tests...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">createUsers</span><span class="p">(</span><span class="kt">boolean</span><span class="p">...</span><span class="w"> </span><span class="n">banned</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">isBanned</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">banned</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">users</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">newUser</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="na">setState</span><span class="p">(</span><span class="n">isBanned</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">State</span><span class="p">.</span><span class="na">BANNED</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">State</span><span class="p">.</span><span class="na">NORMAL</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="na">build</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><ul>
<li><em>Effective</em></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldAllowMultipleUsers</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">User</span><span class="w"> </span><span class="n">user1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newUser</span><span class="p">().</span><span class="na">setState</span><span class="p">(</span><span class="n">State</span><span class="p">.</span><span class="na">NORMAL</span><span class="p">).</span><span class="na">build</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">User</span><span class="w"> </span><span class="n">user2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newUser</span><span class="p">().</span><span class="na">setState</span><span class="p">(</span><span class="n">State</span><span class="p">.</span><span class="na">NORMAL</span><span class="p">).</span><span class="na">build</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Forum</span><span class="w"> </span><span class="n">forum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Forum</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">forum</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">user1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">forum</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">user2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">assertThat</span><span class="p">(</span><span class="n">forum</span><span class="p">.</span><span class="na">hasRegisteredUser</span><span class="p">(</span><span class="n">user1</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">assertThat</span><span class="p">(</span><span class="n">forum</span><span class="p">.</span><span class="na">hasRegisteredUser</span><span class="p">(</span><span class="n">user2</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div></li>
</ul>
<p>}</p>
<pre tabindex="0"><code></code></pre></li>
<li>
<p>Example: Shared Values</p>
<ul>
<li>Many tests are structured by defining a set of shared values to be used by tests and then by defining the tests that cover various cases for how these values interact.</li>
<li><em>Example: Ineffective</em>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Account</span><span class="w"> </span><span class="n">ACCOUNT_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Account</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">setState</span><span class="p">(</span><span class="n">AccountState</span><span class="p">.</span><span class="na">CLOSED</span><span class="p">).</span><span class="na">setBalance</span><span class="p">(</span><span class="n">0</span><span class="p">).</span><span class="na">build</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="n">ITEM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Item</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">setName</span><span class="p">(</span><span class="s">&#34;Cheeseburger&#34;</span><span class="p">).</span><span class="na">setPrice</span><span class="p">(</span><span class="n">100</span><span class="p">).</span><span class="na">build</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// Hundreds of lines of other tests...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">canBuyItem_returnsFalseForClosedAccounts</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">assertThat</span><span class="p">(</span><span class="n">store</span><span class="p">.</span><span class="na">canBuyItem</span><span class="p">(</span><span class="n">ITEM</span><span class="p">,</span><span class="w"> </span><span class="n">ACCOUNT_1</span><span class="p">)).</span><span class="na">isFalse</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div></li>
<li>This strategy can make tests very concise, but it causes problems as the test suite grows. For one, it can be difficult to understand why a particular value was chosen for a test</li>
<li>A better way to accomplish this goal is to construct data using helper methods (see Example 12-22) that require the test author to specify only values they care about, and setting reasonable defaults</li>
<li><em>Example-Better</em>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="err">#</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">helper</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">wraps</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">defining</span><span class="w"> </span><span class="n">arbitrary</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="k">for</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">#</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">parameters</span><span class="p">.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">def</span><span class="w"> </span><span class="nf">newContact</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">firstName</span><span class="o">=</span><span class="s">&#34;Grace&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">lastName</span><span class="o">=</span><span class="s">&#34;Hopper&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">phoneNumber</span><span class="o">=</span><span class="s">&#34;555-123-4567&#34;</span><span class="p">):</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">Contact</span><span class="p">(</span><span class="n">firstName</span><span class="p">,</span><span class="w"> </span><span class="n">lastName</span><span class="p">,</span><span class="w"> </span><span class="n">phoneNumber</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">#</span><span class="w"> </span><span class="n">Tests</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">helper</span><span class="p">,</span><span class="w"> </span><span class="n">specifying</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="n">that</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">they</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">care</span><span class="w"> </span><span class="n">about</span><span class="p">.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">def</span><span class="w"> </span><span class="nf">test_fullNameShouldCombineFirstAndLastNames</span><span class="p">(</span><span class="n">self</span><span class="p">):</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">def</span><span class="w"> </span><span class="n">contact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newContact</span><span class="p">(</span><span class="n">firstName</span><span class="o">=</span><span class="s">&#34;Ada&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">lastName</span><span class="o">=</span><span class="s">&#34;Lovelace&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">self</span><span class="p">.</span><span class="na">assertEqual</span><span class="p">(</span><span class="n">contact</span><span class="p">.</span><span class="na">fullName</span><span class="p">(),</span><span class="w"> </span><span class="s">&#34;Ada Lovelace&#34;</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>Example: Shared Setup</p>
<ul>
<li>Used appropriately, these methods can make tests clearer and more concise by obviating the repetition of tedious and irrelevant initialization logic.</li>
<li>One risk in using setup methods is that they can lead to unclear tests if those tests begin to depend on the particular values used in setup
<ul>
<li><em>Exampe: Ineffective: Where does Donald Knuth come from?</em></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Before</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setUp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">nameService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NameService</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">nameService</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&#34;user1&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Donald Knuth&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">userStore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserStore</span><span class="p">(</span><span class="n">nameService</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// [... hundreds of lines of tests ...]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldReturnNameFromService</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">UserDetails</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userStore</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&#34;user1&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">assertThat</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getName</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&#34;Donald Knuth&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div></li>
<li>It is better when a test defines/over-rides all the variable it requires
<em>Example: Better</em>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="n">NameService</span><span class="w"> </span><span class="n">nameService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="n">UserStore</span><span class="w"> </span><span class="n">userStore</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Before</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setUp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">nameService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NameService</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">nameService</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&#34;user1&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Donald Knuth&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">userStore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserStore</span><span class="p">(</span><span class="n">nameService</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldReturnNameFromService</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">nameService</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&#34;user1&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Margaret Hamilton&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">UserDetails</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userStore</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&#34;user1&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">assertThat</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getName</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&#34;Margaret Hamilton&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>Example: Shared Helpers and Validation</p>
<ul>
<li>Shared helper method should have a specific purpose
<ul>
<li>Ex: Validation helper method asserts a single conceptual fact about their inputs</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">assertUserHasAccessToAccount</span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">Account</span><span class="w"> </span><span class="n">account</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="n">userId</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">account</span><span class="p">.</span><span class="na">getUsersWithAccess</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getId</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="k">return</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">fail</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34; cannot access &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">account</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div></li>
</ul>
</li>
</ul>
<h3 id="125-conclusion">12.5 Conclusion<a aria-label="Link to this section" class="paige-header-link" href="#125-conclusion"></a></h3>
<ul>
<li>Strive for unchanging tests.</li>
<li>Test via public APIs.</li>
<li>Test state, not interactions.</li>
<li>Make your tests complete and concise.</li>
<li>Test behaviors, not methods.</li>
<li>Structure tests to emphasize behaviors.</li>
<li>Name tests after the behavior being tested.</li>
<li>Don’t put logic in tests.</li>
</ul>
<h2 id="13-testing-doubles">13 Testing Doubles<a aria-label="Link to this section" class="paige-header-link" href="#13-testing-doubles"></a></h2>
<h2 id="14-larger-testing">14 Larger Testing<a aria-label="Link to this section" class="paige-header-link" href="#14-larger-testing"></a></h2>
<h2 id="15-deprecation">15 Deprecation<a aria-label="Link to this section" class="paige-header-link" href="#15-deprecation"></a></h2>
<h1 id="iii-tools">III TOOLS<a aria-label="Link to this section" class="paige-header-link" href="#iii-tools"></a></h1>
<h2 id="16-version-control-and-branch-management">16 Version Control and Branch Management<a aria-label="Link to this section" class="paige-header-link" href="#16-version-control-and-branch-management"></a></h2>
<h2 id="17-code-search">17 Code Search<a aria-label="Link to this section" class="paige-header-link" href="#17-code-search"></a></h2>
<h2 id="18-build-system-and-build-philosophy">18 Build System and Build Philosophy<a aria-label="Link to this section" class="paige-header-link" href="#18-build-system-and-build-philosophy"></a></h2>
<h3 id="181-purpose-of-build-systems">18.1 Purpose of Build Systems<a aria-label="Link to this section" class="paige-header-link" href="#181-purpose-of-build-systems"></a></h3>
<h3 id="182-what-happens-if-no-build-system">18.2 What happens if no build System<a aria-label="Link to this section" class="paige-header-link" href="#182-what-happens-if-no-build-system"></a></h3>
<ul>
<li>why not ust use a compiler (like javac or gcc)?
<ul>
<li>When we need to scale
<ul>
<li>across our project directories</li>
<li>mulitiple compilation units</li>
<li>across programming lagnagues</li>
</ul>
</li>
</ul>
</li>
<li>Why not just a shell script?
<ul>
<li>Does not scale with complexity: lacks abstraction</li>
<li>hard to debug</li>
<li>It&rsquo;s slow build</li>
</ul>
</li>
</ul>
<h3 id="183-moden-build-systems">18.3 Moden Build Systems<a aria-label="Link to this section" class="paige-header-link" href="#183-moden-build-systems"></a></h3>
<ul>
<li>
<p>Modern build systems is all about managing the dependencies</p>
<ul>
<li>tasks (documentation befor e release; external dependencies)</li>
</ul>
</li>
<li>
<p>Tasks Based Build Systems (Mvn, Ant)</p>
<ul>
<li>the fundamental unit of work is the task. Each task is a script of some sort that can execute any sort of logic, and tasks specify other tasks as dependencies that must run before them.</li>
<li>Cons
<ul>
<li>hard to parallelize build steps</li>
<li>difficulat to perform incremental build</li>
<li>difficult to maintain and debug scripts</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Artifact Based Build Systems (Bazel)</p>
<ul>
<li>Declare the artifacts you are building; it&rsquo;s ==declarative== like k8s
<ul>
<li>users specify a set of targets to build (the “what”), and Blaze is responsible for configuring, running, and scheduling the compilation steps (the “how”)</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>java_binary(
  name = &#34;MyBinary&#34;,
  srcs = [&#34;MyBinary.java&#34;],
  deps = [
    &#34;:mylib&#34;,
  ],
) 

java_library(
name = &#34;mylib&#34;,
srcs = [&#34;MyLibrary.java&#34;, &#34;MyHelper.java&#34;],
visibility = [&#34;//java/com/example/myproduct:__subpackages__&#34;],
deps = [
    &#34;//java/com/example/common&#34;,
    &#34;//java/com/example/myproduct/otherlib&#34;,
    &#34;@com_google_common_guava_guava//jar&#34;,
],
)
</code></pre></li>
<li>
<p>Distributed Builds</p>
</li>
<li>
<p>Time, Scale, and Tradeoffs</p>
</li>
</ul>
<h2 id="19-critique-google-code-review-tools">19: Critique: Google Code Review Tools<a aria-label="Link to this section" class="paige-header-link" href="#19-critique-google-code-review-tools"></a></h2>
<h2 id="20-static-analysis">20 Static Analysis<a aria-label="Link to this section" class="paige-header-link" href="#20-static-analysis"></a></h2>
<h2 id="21-dependency-management">21 Dependency Management<a aria-label="Link to this section" class="paige-header-link" href="#21-dependency-management"></a></h2>
<h3 id="211-why-dependency-management-is-so-difficult">21.1 Why Dependency Management Is So Difficult<a aria-label="Link to this section" class="paige-header-link" href="#211-why-dependency-management-is-so-difficult"></a></h3>
<ul>
<li>Boils down to the Diamond Dependency problem
<ul>
<li>what happens when two nodes in the dependency network have conflicting requirements, and your organization depends on them both</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">graph TD;
	libUser --&gt; libA;
	libUser --&gt; libB;
	libA --&gt; libBase;
	libB --&gt; libBase;
</code></pre><ul>
<li>only easy answer is to skip forward or backward in versions for those dependencies to find something compatible.
<ul>
<li>When that isn’t possible, we must resort to locally patching the dependencies in question, which is particularly challenging because the cause of the incompatibility in both provider and consumer is probably not known to the engineer that first discovers the incompatibility</li>
</ul>
</li>
</ul>
<h3 id="212-importing-dependencies">21.2 Importing Dependencies<a aria-label="Link to this section" class="paige-header-link" href="#212-importing-dependencies"></a></h3>
<ul>
<li>
<p>Reuse is healthy, especially compared to the cost of redeveloping quality software from scratch. So long as you aren’t downloading trojaned software, if your external dependency satisfies the requirements for your programming task, you should use it</p>
</li>
<li>
<p>Compatibility Promises for different langagues</p>
<ul>
<li>C++:  nearly indefinite backward compatibility.
<ul>
<li>Wow. Downside is once something is published, it is hard to undo</li>
</ul>
</li>
<li>Go:
<ul>
<li>You ==cannot== build a library in Go with one version of the language and link that library into a Go program built with a different version of the language.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Considerations When Importing</p>
<ul>
<li>Does the project have tests that you can run?
<ul>
<li>Do those tests pass?</li>
</ul>
</li>
<li>Who is providing that dependency? Even among “No warranty implied” OSS projects, there is a significant range of experience and skill set—it’s a very different thing to depend on compatibility from the C++ standard library or Java’s Guava library than it is to select a random project from GitHub or npm. Reputation isn’t everything, but it is worth investigating.</li>
<li>What sort of compatibility is the project aspiring to?</li>
<li>Does the project detail what sort of usage is expected to be supported?</li>
<li>How popular is the project?</li>
<li>How long will we be depending on this project?</li>
<li>How often does the project make breaking changes?</li>
</ul>
</li>
<li>
<p>How Google Handles Importing Dependencies</p>
<ul>
<li>The overwhelming majority of dependencies in any given Google project are internally developed.</li>
</ul>
</li>
</ul>
<h3 id="213-dependency-management-in-theory">21.3 Dependency Management, In Theory<a aria-label="Link to this section" class="paige-header-link" href="#213-dependency-management-in-theory"></a></h3>
<ol>
<li>Nothing Changes; don&rsquo;t change the dependenceis</li>
<li>Semantic Versioning
<ol>
<li>SemVer is the nearly ubiquitous practice of representing a version number for some dependency</li>
<li>IE: 2.4.71
<ol>
<li>major.minor.patch</li>
<li>major # change represent signifcant incompatibility</li>
</ol>
</li>
<li>We can specificy library &gt; 1.5</li>
</ol>
</li>
<li>Bundled Distribution Model
<ol>
<li>aka Spark&rsquo;s Uber Jar</li>
</ol>
</li>
<li>Live At Head</li>
</ol>
<h3 id="214-limitations-of-semver">21.4 Limitations of SemVer<a aria-label="Link to this section" class="paige-header-link" href="#214-limitations-of-semver"></a></h3>
<h3 id="215-dependency-with-infinit-resources">21.5 Dependency with Infinit Resources<a aria-label="Link to this section" class="paige-header-link" href="#215-dependency-with-infinit-resources"></a></h3>
<h3 id="216-conclusoin">21.6 Conclusoin<a aria-label="Link to this section" class="paige-header-link" href="#216-conclusoin"></a></h3>
<ul>
<li>
<p>Prefer source control problems to dependency management problems: if you can get more code from your organization to have better transparency and coordination, those are important simplifications.</p>
</li>
<li>
<p>Adding a dependency isn’t free for a software engineering project, and the complexity in establishing an “ongoing” trust relationship is challenging. Importing dependencies into your organization needs to be done carefully, with an understanding of the ongoing support costs.</p>
</li>
<li>
<p>A dependency is a contract: there is a give and take, and both providers and consumers have some rights and responsibilities in that contract. Providers should be clear about what they are trying to promise over time.</p>
</li>
<li>
<p>SemVer is a lossy-compression shorthand estimate for “How risky does a human think this change is?” SemVer with a SAT-solver in a package manager takes those estimates and escalates them to function as absolutes. This can result in either overconstraint (dependency hell) or underconstraint (versions that should work together that don’t).</p>
</li>
<li>
<p>By comparison, testing and CI provide actual evidence of whether a new set of versions work together.</p>
</li>
<li>
<p>Minimum-version update strategies in SemVer/package management are higher fidelity. This still relies on humans being able to assess incremental version risk accurately, but distinctly improves the chance that the link between API provider and consumer has been tested by an expert.</p>
</li>
<li>
<p>Unit testing, CI, and (cheap) compute resources have the potential to change our understanding and approach to dependency management. That phase-change requires a fundamental change in how the industry considers the problem of dependency management, and the responsibilities of providers and consumers both.</p>
</li>
<li>
<p>Providing a dependency isn’t free: “throw it over the wall and forget” can cost you reputation and become a challenge for compatibility. Supporting it with stability can limit your choices and pessimize internal usage. Supporting without stability can cost goodwill or expose you to risk of important external groups depending on something via Hyrum’s Law and messing up your “no stability” plan.</p>
</li>
</ul>
<h2 id="22-large-scale-changes">22 Large Scale Changes<a aria-label="Link to this section" class="paige-header-link" href="#22-large-scale-changes"></a></h2>
<h2 id="23-continuous-integration">23 Continuous Integration<a aria-label="Link to this section" class="paige-header-link" href="#23-continuous-integration"></a></h2>
<ul>
<li>Conclusion
<ul>
<li>
<p>A CI system decides what tests to use, and when.</p>
</li>
<li>
<p>CI systems become progressively more necessary as your codebase ages and grows in scale.</p>
</li>
<li>
<p>CI should optimize quicker, more reliable tests on presubmit and slower, less deterministic tests on post-submit.</p>
</li>
<li>
<p>Accessible, actionable feedback allows a CI system to become more efficient.</p>
</li>
</ul>
</li>
</ul>
<h2 id="24-continuous-delivery">24 Continuous Delivery<a aria-label="Link to this section" class="paige-header-link" href="#24-continuous-delivery"></a></h2>
<ul>
<li>Conclusion
<ul>
<li>
<p>Velocity is a team sport: The optimal workflow for a large team that develops code collaboratively requires modularity of architecture and near-continuous integration.</p>
</li>
<li>
<p>Evaluate changes in isolation: Flag guard any features to be able to isolate problems early.</p>
</li>
<li>
<p>Make reality your benchmark: Use a staged rollout to address device diversity and the breadth of the userbase. Release qualification in a synthetic environment that isn’t similar to the production environment can lead to late surprises.</p>
</li>
<li>
<p>Ship only what gets used: Monitor the cost and value of any feature in the wild to know whether it’s still relevant and delivering sufficient user value.</p>
</li>
<li>
<p>Shift left: Enable faster, more data-driven decision making earlier on all changes through CI and continuous deployment.</p>
</li>
<li>
<p>Faster is safer: Ship early and often and in small batches to reduce the risk of each release and to minimize time to market.</p>
</li>
</ul>
</li>
</ul>
<h2 id="25-compute-as-a-service-caas">25 Compute As a Service (CaaS)<a aria-label="Link to this section" class="paige-header-link" href="#25-compute-as-a-service-caas"></a></h2>
<h3 id="251-taming-the-compute-environment">25.1 Taming the Compute Environment<a aria-label="Link to this section" class="paige-header-link" href="#251-taming-the-compute-environment"></a></h3>
<ul>
<li>In the old days, Jeff Dean needs to do this to run a compute data processing task</li>
</ul>
<pre tabindex="0"><code>	[Running the task] is a logistical, time-consuming nightmare. It currently requires getting a list of 50+ machines, starting up a process on each of these 50+ machines, and monitoring its progress on each of the 50+ machines. There is no support for automatically migrating the computation to another machine if one of the machines dies, and monitoring the progress of the jobs is done in an ad hoc manner [...] Furthermore, since processes can interfere with each other, there is a complicated, human-implemented “sign up” file to throttle the use of machines, which results in less-than-optimal scheduling, and increased contention for the scarce machine resources
</code></pre><ul>
<li>Approach 1: simple automations (think Chuck at NPD or Apple)</li>
<li>Approach 2: Containerization and Multi-tenancy
<ul>
<li>addresses the 1 program 1 machine paradigm; better usage</li>
</ul>
</li>
<li>Improvment: right sizing with replica size and auto-scaling</li>
<li>As org and product scales, we need to look at these axes:
<ul>
<li>Number of different applications to be managed</li>
<li>Number of copies of an application that needs to run</li>
<li>The size of the largest application</li>
</ul>
</li>
</ul>
<h3 id="252-writing-software-for-managed-compute">25.2 Writing Software for Managed Compute<a aria-label="Link to this section" class="paige-header-link" href="#252-writing-software-for-managed-compute"></a></h3>
<ul>
<li>
<p>Architecting for Failure</p>
<ul>
<li>K8s service abstraction over k8s pods; pods can fail, but we can restart automatically</li>
</ul>
</li>
<li>
<p>Batch Versus Serving</p>
<ul>
<li>Serving: program that runs indefinitely and serves incoming requests</li>
<li>Batch: program that completes a task and runs to completion
<ul>
<li>Batch jobs are primarily interested in throughput of processing. Serving jobs care about latency of serving a single request.</li>
<li>Batch jobs are short lived (minutes, or at most hours). Serving jobs are typically long lived (by default only restarted with new releases).</li>
<li>Because they’re long lived, serving jobs are more likely to have longer startup times.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Managing State</p>
<ul>
<li>Easiest: make it stateless and extract all storage to an external storage system
<ul>
<li>But how is external storage system implemented with failover (ie with replicatoin)</li>
</ul>
</li>
<li>Another type of state is cache
<ul>
<li>if cache goes down, and service has enough capacity, then we just have a latency hit.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Connecting to a Service</p>
<ul>
<li>other applications refer to your application by some identifier that is durable across restarts of the specific “backend” instances
<ul>
<li>This is called service discovery (ie Zookeeper)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="253-caas-over-time-and-scale">25.3 CaaS Over Time and Scale<a aria-label="Link to this section" class="paige-header-link" href="#253-caas-over-time-and-scale"></a></h3>
<h3 id="254-choosing-a-compute-service">25.4 Choosing a Compute Service<a aria-label="Link to this section" class="paige-header-link" href="#254-choosing-a-compute-service"></a></h3>
<ul>
<li>
<p>Centralization vs Customization</p>
</li>
<li>
<p>Level of Abstraction: Serverless</p>
<ul>
<li>What is serverless?
<ul>
<li>The key defining trait of a framework is the inversion of control—so, the user will only be responsible for writing an “Action” or “Handler” of some sort—a function in the chosen language that takes the request parameters and returns the response.</li>
<li>==The executed code has to be stateless==</li>
</ul>
</li>
<li>Pro
<ul>
<li>Don&rsquo;t need to provision cluster</li>
<li>can scale cost to 0 if traffic is 0</li>
<li>adaptable scaling</li>
</ul>
</li>
<li>Con
<ul>
<li>Code has to be stateless; request-scope</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Public vs Private</p>
<ul>
<li>Private (ie Ebay)
<ul>
<li>all the managment of the cluster/infra will be on to you.</li>
</ul>
</li>
<li>Public Cloud
<ul>
<li>An organization using a public cloud is effectively outsourcing (a part of) the management overhead to a public cloud provider.  Not bad.</li>
<li>But how not to be lock in?
<ul>
<li>use open source (ie K8s) to run on EC2.</li>
</ul>
</li>
</ul>
</li>
<li>Hybrid cloud: AWS + Google CLoud + private
<ul>
<li>hybrid cloud strategies require the multiple environments to be connected well, through direct network connectivity between machines in different environments and common APIs that are available in both</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="255-conclusion">25.5 Conclusion<a aria-label="Link to this section" class="paige-header-link" href="#255-conclusion"></a></h3>
<ul>
<li>Scale requires a common infrastructure for running workloads in production.</li>
<li>A compute solution can provide a standardized, stable abstraction and environment for software.</li>
<li>Software needs to be adapted to a distributed, managed compute environment.</li>
<li>The compute solution for an organization should be chosen thoughtfully to provide appropriate levels of abstraction.</li>
</ul>
</div>


    </div>
</article>




    
    



    



    



    



    



    



    



    



    







                        
                    </main>

                    









    

    


<footer class="mb-3" id="paige-footer">
    

    
        <div class="mb-3" id="paige-prev-next">
            
                <p class="mb-0 text-center text-secondary" id="paige-next">
                    <a class="link-secondary" href="https://example.com/books/software-profession/software-mistakes-and-tradeoffs/">Software Mistakes and Tradeoffs</a> &rsaquo;
                </p>
            

            
        </div>
    

    

    

    

    
</footer>

                </div>
            </div>
        </div>

        















    
    
    


<script  crossorigin="anonymous"   defer  integrity="sha256-gfPiYYSP&#43;RNtNeRBt45mJombFJmNf0V0Ipu785Obi0M="   referrerpolicy="no-referrer"  src="/js/paige/bootstrap/bootstrap.bundle.min.81f3e261848ff9136d35e441b78e6626899b14998d7f4574229bbbf3939b8b43.js" ></script>



    













    
    
    


<script  crossorigin="anonymous"   defer  integrity="sha256-kqnbKZyzZFmn0J2JtRxwdeNh0b3FknYDyAd&#43;mGKI73c="   referrerpolicy="no-referrer"  src="/js/paige/katex/katex.min.min.92a9db299cb36459a7d09d89b51c7075e361d1bdc5927603c8077e986288ef77.js" ></script>

    













    
    
    


<script  crossorigin="anonymous"   defer  integrity="sha256-pQMCGuz&#43;5jpyog4zEVyH/xvxJRsPM9M7d7t6&#43;TiyEA8="  onload="renderMathInElement(document.body);"   referrerpolicy="no-referrer"  src="/js/paige/katex/auto-render.min.min.a503021aecfee63a72a20e33115c87ff1bf1251b0f33d33b77bb7af938b2100f.js" ></script>






    



    



    



    



    



    



    



    



    



    



    



    



    



    



    





<noscript>JavaScript is required</noscript>


        
    </body>
</html>
